!function(a) {
    "use strict";
    function b() {
        if (F) {
            var b = a.getElementsByTagName("script")[0];
            H = a.createElement("script");
            return E ? (G = (new Date).getTime(), H.src = F.js, b.parentNode.insertBefore(H, b), H["onreadystatechange"in H ? "onreadystatechange": "onload"] = function() {
                if (!(R || this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState))
                    for (R=!0; Q.length;)
                        g(Q.shift())
            }, I = a.createElement("link"), I.rel = "stylesheet", I.href = F.css, b.parentNode.insertBefore(I, b), void I.addEventListener("load", function() {
                S=!0
            }, !1)) : O ? (H.src = F.moog_js, b.parentNode.insertBefore(H, b), void(H["onreadystatechange"in H ? "onreadystatechange": "onload"] = function() {
                if (!(R || this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState))
                    for (R=!0; Q.length;)
                        g(Q.shift())
            })) : void 0
        }
    }
    function c() {
        K || (z=!!a.createElement("video").webkitEnterFullScreen, A = a.fullscreenEnabled || a.webkitFullscreenEnabled || a.mozFullScreenEnabled || a.msFullscreenEnabled || z, B = function() {
            var b = a.createElement("video");
            return {
                h264: "canPlayType"in b && "" !== b.canPlayType("video/mp4"),
                textTracks: void 0 !== typeof TextTrackList && "undefined" != typeof b.textTracks && b.textTracks instanceof TextTrackList
            }
        }(), O = function() {
            var a = navigator, b = "Shockwave Flash", c = "application/x-shockwave-flash", d = "ShockwaveFlash.ShockwaveFlash";
            if (void 0 !== typeof a.plugins && "object" == typeof a.plugins[b] && a.plugins[b].description && (void 0 === typeof a.mimeTypes ||!a.mimeTypes[c] || a.mimeTypes[c].enabledPlugin)
                )return !0;
            try {
                if (window.ActiveXObject && new ActiveXObject(d))
                    return !0
            } catch (e) {}
            return !1
        }(), N = function() {
            var b = a.createElement("div");
            return b.innerHTML = "<svg/>", "http://www.w3.org/2000/svg" === (b.firstChild && b.firstChild.namespaceURI)
        }(), C = /MSIE 9/.test(navigator.userAgent) && /Windows Phone/.test(navigator.userAgent), D = /IE 10/.test(navigator.userAgent), E = A || D&&!O || C, i(), L && O && (E=!1), M && (!B.textTracks || B.textTracks&&!B.h264) && O && (E=!1), N || (E=!1), b(), K=!0)
    }
    function d(a) {
        J.callbacks[a.id] = function(b) {
            return P[a.id] ? void 0 : (P[a.id] = b, R ? void g(a) : void Q.push(a))
        };
        var b = F.moog;
        b += (b.indexOf("?")>-1 ? "&amp;" : "?") + "z=" + (new Date).getTime(), a.innerHTML = '<object id="' + a.id + '_embed" type="application/x-shockwave-flash" width="100%" height="100%" data="' + b + '"><param name="flashvars" value="config_url=' + encodeURIComponent(a.getAttribute("data-config-url")) + "&amp;player_url=" + F.player_url + "&amp;js_setConfig=PlayerManager.callbacks." + a.id + '&amp;api=1&amp;moogaloop_type=moogaloop_local"><param name="movie" value="' + b + '"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="wmode" value="opaque"><param name="quality" value="high"><param name="scalemode" value="noscale"><param name="bgcolor" value="#000000"></object>'
    }
    function e(a, b, c) {
        var d, e = "true" === a.getAttribute("data-embed") ? {}
        : W;
        if (c) {
            var f = a.getElementsByTagName("object")[0];
            d = new VimeoPlayer(f, b, e)
        } else 
            d = new VimeoPlayer(a, b || a.getAttribute("data-config-url"), S || {
                link: I,
                startTime: G
            }, e), a.classList.add("loading");
        return d.ready(function() {
            o(d, a)
        }), n(d), q(a, d), a.removeAttribute("data-config-url"), a.setAttribute("data-player", "true"), d
    }
    function f(a) {
        var b = '<div class="error" style="display:table-cell;vertical-align:middle;background:rgba(20,20,20,0.8);text-align:center;color:#FFF;"><h1 style="color:#fff">' + Copy.dict.oops + "</h1><p>" + Copy.dict.player_try_again + "</p></div>";
        a.removeAttribute("data-config-url"), a.setAttribute("data-player", "true"), a.style.display = "table", a.innerHTML = b
    }
    function g(a) {
        if ("true" !== a.getAttribute("data-player")) {
            if (!F)
                return void f(a);
            if (E)
                return R ? void e(a) : void Q.push(a);
            if (O) {
                if (R && P[a.id]) {
                    var b=!0;
                    return void e(a, P[a.id], b)
                }
                return void d(a)
            }
            var c = a.getAttribute("data-fallback-url");
            a.innerHTML = '<div class="fallback"><iframe src="' + c + '" frameborder="0"></iframe></div>'
        }
    }
    function h(b, c) {
        var d = b ? "data-player": "data-config-url";
        if (c = c || a, "querySelectorAll"in c)
            return c.querySelectorAll(".player[" + d + "]");
        for (var e = ("getElementsByClassName"in c), f = e ? c.getElementsByClassName(".player") : c.getElementsByTagName("div"), g = [], h = 0, i = f.length; i > h; h++) {
            var j = e || " " + f[h].className + " ".indexOf(" player ")!==-1;
            j && f[h].getAttribute(d) && g.push(f[h])
        }
        return g
    }
    function i() {
        for (var a = h(), b = 0, c = a.length; c > b; b++)
            a[b].getAttribute("data-vod") && (L=!0), a[b].getAttribute("data-captions") && (M=!0)
    }
    function j(a, b) {
        return "contains"in a ? a.contains(b) : "compareDocumentPosition"in a ? 20 === a.compareDocumentPosition(b) : !1
    }
    function k() {
        for (var a = h(), b = 0, c = a.length; c > b; b++)
            g(a[b])
    }
    function l() {
        for (var b in V)
            V.hasOwnProperty(b) && (a.getElementById(b) || delete V[b])
    }
    function m(a, b) {
        return function(c) {
            "undefined" != typeof Signal && "player"in Signal && a in Signal.player && (Signal.player[a].dispatch(b, c), "play" === a && "undefined" != typeof vimeo && (vimeo.active_player = b, vimeo.active_player.unpauseKeyboard(), u(vimeo.active_player)))
        }
    }
    function n(a) {
        a.ready(function() {
            a.addEventListener("play", m("play", a)), a.addEventListener("pause", m("pause", a)), a.addEventListener("finish", m("finish", a)), a.addEventListener("playProgress", m("playProgress", a))
        })
    }
    function o(a) {
        return T && "undefined" != typeof Signal && "player"in Signal && "ready"in Signal.player ? void Signal.player.ready.dispatch(a) : void U.push(a)
    }
    function p() {
        if (T=!0, "undefined" != typeof Signal && "player"in Signal && "ready"in Signal.player && U.length)
            for (; U.length;)
                Signal.player.ready.dispatch(U.shift())
    }
    function q(a, b) {
        V[a.id] = b
    }
    function r(a, b, c) {
        if ("true" === a.getAttribute("data-player"))
            return V[a.id];
        void 0 === b && (b=!0), void 0 === c && (c=!0);
        var d = h(b, a), e = d.length;
        if (d.length > 0)
            return b ? V[d[0].id] : d[0];
        if (d = h(b), e = d.length, c)
            for (; a = a.parentNode;)
                for (var f = 0; e > f; f++)
                    if (j(a, d[f]))
                        return V[d[f].id]
    }
    function s(a, b) {
        var c = r(a, !1, b);
        return c || (c = r(a, !0, b)), c
    }
    function t() {
        for (var a in V)
            V.hasOwnProperty(a)&&!V[a].paused && V[a].pause && V[a].pause()
    }
    function u(a) {
        for (var b in V)
            V.hasOwnProperty(b) && V[b] !== a && V[b].pauseKeyboard()
    }
    function v(a) {
        W = w(W, a)
    }
    function w() {
        if (!(arguments.length < 2)) {
            for (var a = arguments[0], b = 1, c = arguments.length; c > b; b++) {
                var d = arguments[b];
                for (var e in d)
                    d.hasOwnProperty(e) && (a[e] = d[e])
                }
            return a
        }
    }
    function x(a, b) {
        a && (F = a), c(), b || (k(), l())
    }
    function y(a) {
        x(a, !0)
    }
    var z, A, B, C, D, E, F, G, H, I, J = {
        callbacks: {}
    }, K=!1, L=!1, M=!1, N=!1, O=!1, P = {}, Q = [], R=!1, S=!1, T=!1, U = [], V = {}, W = {
        willOpenShareOverlay: function(a) {
            return "function" == typeof window.shareWindowPopup ? (t(), window.shareWindowPopup(a), !1) : void 0
        },
        willOpenLoginForm: function(a, b) {
            return "undefined" != typeof Singletonbox ? (t(), Singletonbox.open({
                url: "/log_in" + (b ? "?player=1&clip_id=" + a + "&context=" + b : "")
            }), !1) : void 0
        },
        didLikeVideo: function() {
            "undefined" != typeof Signal && "player"in Signal && "like"in Signal.player && Signal.player.like.dispatch()
        },
        didUnlikeVideo: function() {
            "undefined" != typeof Signal && "player"in Signal && "unlike"in Signal.player && Signal.player.unlike.dispatch()
        },
        willOpenVodPurchaseForm: function(a, b) {
            if ("undefined" != typeof PayToView) {
                return 0 === $("a.js_vod_btn").not(".btn_disabled").length ? ($(".trailer_meta a.more").click(), !1) : (PayToView.openCheckout(b ? "//" + vimeo.url + "/store/ondemand/byproduct/" + b : "//" + vimeo.url + "/store/ondemand/byclip/" + a), !1)
            }
            var c = a ? "#checkout_clip": "";
            return window.location.href = "/" + a + c, !1
        }
    };
    J.run = x, J.runAndDefer = y, J.initPlayer = g, J.getPlayer = r, J.getAnyPlayer = s, J.setDefaultDelegate = v, J.dispatchReadySignals = p, J.pauseAllPlayers = t, window.PlayerManager = J
}(document);


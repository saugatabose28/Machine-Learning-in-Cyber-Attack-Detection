/* homepage */
(function() {
    $(function() {
        function h(a) {
            a >= b.length ? a = 0 : a < 0 && (a = b.length - 1), timer && timer.reset(), $(e[d]).removeClass("active"), $(e[a]).addClass("active"), $(b[d]).removeClass("active"), $(b[a]).addClass("active"), g.onChange(a, d), d = a
        }
        function i() {
            h(d + 1)
        }
        function j() {
            h(d - 1)
        }
        function k() {
            timer && timer.stop()
        }
        function l() {
            timer && timer.start()
        }
        var a = $("#desktop-template #featured-slider"), b = a.find("article"), c = a.find(".slide-nav"), d = 0, e = c.children();
        d === 0 && $(e[d]).addClass("active");
        var f = {
            speed: 5e3,
            startIndex: 0,
            onChange: function(a, c) {
                a !== c && ($(b[a]).fadeIn(1e3, "linear", function() {
                    $(this).addClass("active")
                }).css("display", "inline-block"), $(b[c]).fadeOut(300, "linear", function() {
                    $(this).removeClass("active")
                }))
            }
        }, g = $.extend({}, f);
        c.on("click", ".navdot", function(a) {
            h($(a.currentTarget).data("index"))
        }), a.mouseover(function() {
            k()
        }), a.mouseout(function() {
            l()
        }), g.speed > 0 && (timer = new Myspace.ResetTimer(function() {
            i()
        }, g.speed), timer.reset())
    }), function(a) {
        a("#featured-section").on("click", ".article", function(b) {
            if (!b.target.href) {
                var c = a(this).find(".link");
                c[0].click();
                var d = a(this).find(".link");
                return !1
            }
        }), a(".article").on("mouseenter", function() {
            a(this).css("cursor", "pointer")
        })
    }(jQuery);
    var a = {
        chartType: "browse",
        page: 1,
        gender: 0,
        minAge: 18,
        maxAge: 51,
        genres: 0,
        profileRoles: "None",
        homepage: !0
    };
    $.ajax({
        url: "/people/browse",
        data: a,
        success: function(a) {
            $("#browse-people").append(a), comm.send("page.changed", $("#browse-people"))
        }
    })
})();


if(typeof(ISQ.Infra)==="undefined"){ISQ.Infra={}}ISQ.Infra.LinkedList=ISQ.Base.extend({name:"ISQ.Infra.LinkedList"});ISQ.Infra.LinkedList.prototype.ctor=function(){};ISQ.Infra.LinkedList.prototype.dtor=function(){var b=this.mHead;while(b!==null){var a=b;b=b.mNext;a.dispose()}this.mHead=null;this.mTail=null;this.mCount=0};ISQ.Infra.LinkedList.prototype.mHead=null;ISQ.Infra.LinkedList.prototype.mTail=null;ISQ.Infra.LinkedList.prototype.mCount=0;ISQ.Infra.LinkedList.prototype.head=function(){return this.mHead};ISQ.Infra.LinkedList.prototype.tail=function(){return this.mTail};ISQ.Infra.LinkedList.prototype.count=function(){return this.mCount};ISQ.Infra.LinkedList.prototype.addFirst=function(b){var a=b;if(!ISQ.Base.isDerivedOf(a,ISQ.Infra.LinkedListNode)){a=new ISQ.Infra.LinkedListNode(b,this)}if(a.mList!==this){throw ("ISQ.Infra.LinkedList.addFirst() ")}if(this.mHead===null){this.mHead=a;this.mTail=a}else{this.mHead.mPrevious=a;a.mNext=this.mHead;this.mHead=a}++this.mCount;return a};ISQ.Infra.LinkedList.prototype.addLast=function(b){var a=b;if(!ISQ.Base.isDerivedOf(a,ISQ.Infra.LinkedListNode)){a=new ISQ.Infra.LinkedListNode(b,this)}if(a.mList!==this){throw ("ISQ.Infra.LinkedList.addLast() tried to remove non-existing value")}if(this.mTail===null){this.mHead=a;this.mTail=a}else{this.mTail.mNext=a;a.mPrevious=this.mTail;this.mTail=a}++this.mCount;return a};ISQ.Infra.LinkedList.prototype.setFirst=function(a){if(this.head()===a){return a}this.remove(a,false);this.addFirst(a);return a};ISQ.Infra.LinkedList.prototype.setLast=function(a){if(this.tail()===a){return a}this.remove(a,false);this.addLast(a);return a};ISQ.Infra.LinkedList.prototype.remove=function(a,b){if(!ISQ.Base.isDerivedOf(a,ISQ.Infra.LinkedListNode)){throw ("ISQ.Infra.LinkedList.remove() Unexpected node type")}if(a.mList!==this){throw ("ISQ.Infra.LinkedList.remove() tried to remove non-existing value")}if(this.mCount===1){this.mHead=null;this.mTail=null}else{if(this.mHead===a){this.mHead=a.mNext;this.mHead.mPrevious=null}else{if(this.mTail===a){this.mTail=a.mPrevious;
this.mTail.mNext=null}else{a.mPrevious.mNext=a.mNext;a.mNext.mPrevious=a.mPrevious}}}a.mNext=null;a.mPrevious=null;--this.mCount;if(b!==false){a.dispose()}};ISQ.Infra.LinkedList.prototype.contains=function(b){var a=this.mHead;while(a!==null){if(a===b){return true}a=a.mNext}return false};ISQ.Infra.LinkedListNode=ISQ.Base.extend({name:"ISQ.Infra.LinkedListNode"});ISQ.Infra.LinkedListNode.prototype.ctor=function(){this.mData=arguments[0];this.mList=arguments[1];this.mPrevious=null;this.mNext=null};ISQ.Infra.LinkedListNode.prototype.dtor=function(){this.mData=null;delete this.mData;delete this.mNext;delete this.mPrevious;delete this.mList};ISQ.Infra.LinkedListNode.prototype.mData=null;ISQ.Infra.LinkedListNode.prototype.mNext=null;ISQ.Infra.LinkedListNode.prototype.mPrevious=null;ISQ.Infra.LinkedListNode.prototype.mList=null;ISQ.Infra.LinkedListNode.prototype.data=function(){if(arguments.length===0){return this.mData}this.mData=arguments[0]};ISQ.Infra.LinkedListNode.prototype.next=function(){return this.mNext};ISQ.Infra.LinkedListNode.prototype.previous=function(){return this.mPrevious};
!function() {
    function a(a) {
        b.setAttribute("href", a);
        var d = b.hostname.split(".").slice( - 2).join(".");
        return !d || d === c
    }
    var b = document.createElement("a"), c = window.location.hostname.split(".").slice( - 2).join("."), d = {
        getCookie: function(a) {
            if (window[a])
                return window[a];
            if (document.cookie)
                for (var b = document.cookie.split(/;\s*/), c = 0, d = b.length; d > c; c++) {
                    var e = b[c];
                    if (0 === e.indexOf(a + "="))
                        return e.substr(a.length + 1)
                }
            return null
        },
        isValidUrlOrFunction: function(b) {
            return "function" == typeof b || "string" == typeof b && a(b)
        },
        loadStylesheet: function(a) {
            var b = document.createElement("link");
            b.rel = "stylesheet", b.type = "text/css", b.href = a, document.getElementsByTagName("head")[0].appendChild(b)
        },
        isStylesheetLoaded: function(a) {
            if (!a || "string" != typeof a)
                return !1;
            for (var b = document.styleSheets, c = 0, d = b.length; d > c; c++)
                if (b[c].href && b[c].href.indexOf(a)>-1)
                    return !0;
            return !1
        },
        loadScripts: function(a, b) {
            var c = function(a) {
                var b = document.createElement("script");
                b.type = "text/javascript", b.charset = "utf-8", b.src = a;
                var c = function() {
                    b.readyState && "loaded" !== b.readyState && "complete" !== b.readyState || (b.onreadystatechange = b.onload = b.onerror = null, d())
                };
                "undefined" == typeof b.onload ? b.onerror = b.onreadystatechange = c : b.onload = b.onerror = c;
                var e = document.getElementsByTagName("head")[0];
                (e || document.body).appendChild(b)
            }, d = function() {
                0 !== a.length ? c(a.shift()) : b && b()
            };
            d()
        },
        getPageHeight: function() {
            var a;
            return self.innerHeight ? a = self.innerHeight : document.documentElement && document.documentElement.clientHeight ? a = document.documentElement.clientHeight : document.body && (a = document.body.clientHeight), a
        },
        getPageScroll: function() {
            var a, b;
            return self.pageYOffset ? (b = self.pageYOffset, a = self.pageXOffset) : document.documentElement && document.documentElement.scrollTop ? (b = document.documentElement.scrollTop, a = document.documentElement.scrollLeft) : document.body && (b = document.body.scrollTop, a = document.body.scrollLeft), {
                x: a,
                y: b
            }
        },
        trimEndSlashFromPath: function(a) {
            var b = null;
            return "/" === a.substring(a.length - 1) && (b = a.substr(0, a.length - 1)), b || a
        },
        parseVersionFromPath: function(a) {
            var b = /\/(\d+.\d+.\d+)\//, c = b.exec(a);
            return c ? c[1] : null
        },
        prefetch: function(a, b, c) {
            var d = document.createElement("div");
            d.style.position = "absolute", d.style.bottom = "0", d.style.left = "0", d.style.width = "1px", d.style.height = "1px", d.style.overflow = "hidden";
            for (var e = "", f = 0; f < b.length; f++)
                e += '<span style="font-family:' + b[f] + '">tg</span>';
            for (f = 0; f < c.length; f++)
                e += '<img src="' + a + c[f] + '"/>';
            d.innerHTML = e, document.body.appendChild(d)
        },
        isWinXP: function() {
            var a = navigator.userAgent.toLowerCase();
            return a.indexOf("windows nt 5.1") > 0
        }
    };
    String.prototype.trim || (String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, "")
    }), window.LoginDialogHelper = d
}(), function() {
    window.LoginDialogBILogger = function() {
        function a(a, d, e) {
            var f = {
                evid: a,
                src: c,
                _: (new Date).getTime()
            }, g = [], h = "wix.com";
            b.extend(f, e || {}), - 1 === window.location.host.indexOf(".wix.com") && (h = "wixpress.com"), b.each(f, function(a, b) {
                g.push(a + "=" + encodeURIComponent(b))
            }), new Image(0, 0).src = "//frog." + h + "/" + d + "?" + g.join("&")
        }
        var b = $, c = 6;
        return {
            useJQuery: function(a) {
                b = a
            },
            log: function(b, c) {
                a(b, "hls2", c)
            },
            logError: function(c) {
                c = b.extend(c, {
                    did: UserServerApi.getClientId()
                }), a(10, "trg", c)
            }
        }
    }()
}(), function() {
    window.FormValidator = function(a) {
        function b(b) {
            var c = {
                errorCode: LoginDialog.Errors.OK,
                errorDescription: "OK"
            }, f = b.attr("validation");
            if (!f)
                return c;
            var g, h = b.val();
            return a.each(f.split(";"), function(f, i) {
                switch (g = i.split(":"), g[0]) {
                case"notempty":
                    if ("" === h)
                        return c.errorCode = "9973", !1;
                    break;
                case"length":
                    try {
                        var j = g[1];
                        if (j&&!new RegExp("^." + j + "$").test(h))
                            return j = j.substr(1, j.length - 2), c.errorCode = "101", a.extend(c, {
                                data: j.split(",")
                            }), !1
                    } catch (k) {}
                    break;
                case"email":
                    if (!d.test(h.trim()))
                        return c.errorCode = "99711", !1;
                    break;
                case"password":
                    if (!e.test(h))
                        return c.errorCode = "99721", !1;
                    break;
                case"match":
                    var l = b.siblings("[name='" + g[1] + "']").val(), m = h, n = g[2] ? g[2].split(","): [];
                    if (a.each(n, function(a, b) {
                        switch (b) {
                        case"trim":
                            l = l.trim(), m = m.trim();
                            break;
                        case"lowerCase":
                            l = l.toLowerCase(), m = m.toLowerCase()
                        }
                    }), l !== m) {
                        if ("email" === g[1])
                            return c.errorCode = "102", !1;
                        if ("password" === g[1])
                            return c.errorCode = "103", !1
                    }
                }
                return !0
            }), c
        }
        function c(c, d, e) {
            var f = {
                errorCode: LoginDialog.Errors.OK,
                errorDescription: "OK"
            };
            a.each(c, function() {
                var d = a(this), g = d.attr("name");
                return f = b(d, c), f.errorCode !== LoginDialog.Errors.OK ? (a.extend(f, {
                    name: g,
                    input: d
                }), e(f), !1) : !0
            }), f.errorCode === LoginDialog.Errors.OK && d()
        }
        var d = /^[a-zA-Z0-9_\-+.]+@[a-zA-Z0-9_\-+]+\.[a-zA-Z0-9_\-+.]+$/, e = /^[a-zA-Z0-9_\-!@#$%^&*]+$/, f = {
            validate: function(a, b, d) {
                return c(a, b, d)
            }
        };
        return f
    }
}(), function() {
    window.InitPlaceholderPlugin = function(a) {
        !function(a, b, c) {
            function d(a) {
                var b = {}, d = /^jQuery\d+$/;
                return c.each(a.attributes, function(a, c) {
                    c.specified&&!d.test(c.name) && (b[c.name] = c.value)
                }), b
            }
            function e(a, d) {
                var e = this, f = c(e);
                if (e.value === f.attr("placeholder") && f.hasClass("placeholder"))
                    if (f.data("placeholder-password")) {
                        if (f = f.hide().next().show().attr("id", f.removeAttr("id").data("placeholder-id")), a===!0)
                            return f[0].value = d, d;
                            f.focus()
                    } else 
                        e.value = "", f.removeClass("placeholder"), e === b.activeElement && e.select()
            }
            function f() {
                var a, b = this, f = c(b), g = this.id;
                if ("" === b.value) {
                    if ("password" === b.type) {
                        if (!f.data("placeholder-textinput")) {
                            try {
                                a = c("<input>").attr(c.extend(d(this), {
                                    type: "text"
                                }))
                            } catch (h) {
                                a = f.clone().attr({
                                    type: "text"
                                })
                            }
                            a.removeAttr("name").removeAttr("validation").data({
                                "placeholder-password": f,
                                "placeholder-id": g
                            }).bind("focus.placeholder", e), f.data({
                                "placeholder-textinput": a,
                                "placeholder-id": g
                            }).before(a)
                        }
                        f = f.removeAttr("id").hide().prev().attr("id", g).show()
                    }
                    f.addClass("placeholder"), f[0].value = f.attr("placeholder")
                } else 
                    f.removeClass("placeholder")
            }
            var g, h, i = "placeholder"in b.createElement("textarea"), j = "placeholder"in b.createElement("input"), k = c.fn, l = c.valHooks, m = c.propHooks;
            j && i ? (h = k.placeholder = function() {
                return this
            }, h.input = h.textarea=!0) : (h = k.placeholder = function() {
                var a = this;
                return a.filter((j ? "textarea" : ":input") + "[placeholder]").not(".placeholder").bind({
                    "focus.placeholder": e,
                    "blur.placeholder": f
                }).data("placeholder-enabled", !0).trigger("blur.placeholder"), a
            }, h.input = j, h.textarea = i, g = {
                get: function(a) {
                    var b = c(a), d = b.data("placeholder-password");
                    return d ? d[0].value : b.data("placeholder-enabled") && b.hasClass("placeholder") ? "" : a.value
                },
                set: function(a, d) {
                    var g = c(a), h = g.data("placeholder-password");
                    return h ? (h[0].value = d, d) : g.data("placeholder-enabled") ? ("" === d ? (a.value = d, a !== b.activeElement && f.call(a)) : g.hasClass("placeholder") ? e.call(a, !0, d) || (a.value = d) : a.value = d, g) : (a.value = d, d)
                }
            }, j || (l.input = g, m.value = g), i || (l.textarea = g, m.value = g), c(function() {
                c(b).delegate("form", "submit.placeholder", function() {
                    var b = c(".placeholder", this).each(e);
                    a.setTimeout(function() {
                        b.each(f)
                    }, 10)
                })
            }))
        }(this, document, a)
    }
}(), function() {
    function a(a, b, c) {
        jQuery.ajax({
            type: "GET",
            url: c,
            dataType: "text",
            success: function(c) {
                try {
                    b(a, JSON.parse(c))
                } catch (d) {
                    b(a)
                }
            },
            error: function(c, d, e) {
                eb.log("Laboratory " + d + ": " + e), b(a)
            }
        })
    }
    function b(a) {
        return a.locale&&-1 === nb.inArray(a.locale, db.SupportedLanguages) && (eb.error("Invalid option locale: " + a.locale), delete a.locale), a.flow&&-1 === nb.inArray(a.flow, db.SupportedFlows) && (eb.error("Invalid option flow: " + a.flow), delete a.flow), a.mode&&-1 === nb.inArray(a.mode, [db.Modes.FLOATING, db.Modes.STANDALONE]) && (eb.error("Invalid option mode: " + a.mode), delete a.mode), a.context && (a.context === db.DEPRECATED_CREATE_USER_CONTEXT ? (eb.warn("Deprecated option mode: " + a.context), a.context = jb.SIGN_UP) : - 1 === nb.inArray(a.context, [jb.LOGIN, jb.SIGN_UP, jb.FORGOT_PASSWORD, jb.SET_PASSWORD]) && eb.error("Invalid option context: " + a.context)), a.onClose && "function" != typeof a.onClose && (eb.error("Invalid option onClose: " + a.onClose), delete a.onClose), a.postLogin&&!LoginDialogHelper.isValidUrlOrFunction(a.postLogin) && (eb.error("Invalid option postLogin: " + a.postLogin), a.postLogin = "http://www.wix.com/my-account"), a.postSignUp&&!LoginDialogHelper.isValidUrlOrFunction(a.postSignUp) && (eb.error("Invalid option postSignUp: " + a.postSignUp), a.postSignUp = "http://www.wix.com/new/account"), a.postForgotPassword&&!LoginDialogHelper.isValidUrlOrFunction(a.postForgotPassword) && (eb.error("Invalid option postForgotPassword: " + a.postForgotPassword), delete a.postForgotPassword), a.sourcesRootPath && (a.sourcesRootPath = LoginDialogHelper.trimEndSlashFromPath(a.sourcesRootPath)), a
    }
    function c(c) {
        nb = c.JQUERY || c.jQueryLib || nb;
        var e = window.onerror;
        window.onerror = function() {
            var a = "Error message: " + arguments[0] + "\nURL: " + arguments[1] + "\nLine: " + arguments[2] + "\nCol: " + arguments[3] + "\nStack: " + (arguments[4] ? arguments[4].stack || "" : "").replace("\n", "\\");
            return fb.logError({
                cat: 3,
                iss: 1,
                sev: 20,
                errc: 6003,
                ver: ob,
                dsc: a
            }), "function" == typeof e && e.apply(this, arguments), pb=!1, !1
        }, pb=!0;
        var g = navigator.userAgent.toLowerCase();
        if (rb = /msie/.test(g), sb = rb ? parseInt(g.split("msie")[1], 10) : "undefined", c = b(c || {}), ib = nb.extend({}, yb, c), ib.featureToggles = nb.extend({}, yb.featureToggles, c.featureToggles), tb = window.UserServerApi.setOptions(c.userApiOptions), fb = ib.biLogger || LoginDialogBILogger, fb.useJQuery(nb), fb.log(kb.INIT_START, {
            origin: ib.origin,
            ver: ob
        }), gb = setTimeout(function() {
            fb.logError({
                cat: 3,
                iss: 1,
                sev: 20,
                errc: 6004,
                ver: ob,
                dsc: "init started but init complete did not happened after " + xb + " ms"
            }), pb=!1
        }, xb), hb = new FormValidator(nb), f(), !ib.flow && ib.experiments && nb.each(ib.experiments, function(a, b) {
            switch (a) {
            case"flow":
                ib.flow = b;
                break;
            case"context":
                ib.context = b
            }
        }), ib.experimentMap) {
            ib.openExperiments = ib.openExperiments || {};
            for (var h = 0; h < ib.experimentMap.length; h++)
                ib.openExperiments["specs.users." + ib.experimentMap[h]] = "true";
            d(c)
        } else 
            a(c, d, "/_api/wix-laboratory-server/laboratory/conductAllInScope?scope=users")
    }
    function d(a, b) {
        b && (ib.openExperiments = b);
        var c;
        if (!a.context && tb.isUnknownUser() && (ib.context = jb.SIGN_UP), a.sourcesRootPath || (c = nb("script[src*='/scripts/login-dialog']").attr("src") || nb("script[src*='/js/userLogin']").attr("src"), c && (ib.sourcesRootPath = c.substring(0, c.indexOf("/login-dialog/scripts/")))), ib.mode === db.Modes.FLOATING && rb)
            try {
                getFlashAppInstance().startHTMLDialogMode("", "0.8", "0xffffff")
        } catch (d) {}
        LoginDialogHelper.isStylesheetLoaded("Helvetica/fontFace.css") || LoginDialogHelper.loadStylesheet(ib.fontsPath), LoginDialogHelper.loadStylesheet(ib.sourcesRootPath + "/login-dialog/flows/" + ib.flow + "/flow.css");
        var f = [ib.sourcesRootPath + "/login-dialog/locale/messages_" + ib.locale + ".jsonp", ib.sourcesRootPath + "/login-dialog/flows/" + ib.flow + "/flow.js"];
        "undefined" == typeof gapi && f.push("https://apis.google.com/js/client:plusone.js"), "undefined" == typeof FB && f.push("https://connect.facebook.net/en_US/all.js"), f.push("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js");
        var h = InitPlaceholderPlugin || mb;
        h(nb), LoginDialogHelper.loadScripts(f, function() {
            gb && clearTimeout(gb), fb.log(kb.INIT_COMPLETE), e(), db.Resources && LoginDialogHelper.prefetch(ib.sourcesRootPath + "/login-dialog/", db.Resources.fontFaces, db.Resources.images), E(), X(), qb && N(), ib.onLoad && window.setTimeout(function() {
                ib.onLoad()
            }, 10), db.CaptchaService = window.Recaptcha
        }), g()
    }
    function e() {
        "undefined" == typeof gapi && fb.logError({
            cat: 3,
            iss: 1,
            sev: 20,
            errc: 6001,
            ver: ob
        }), "undefined" == typeof FB && fb.logError({
            cat: 3,
            iss: 1,
            sev: 20,
            errc: 6002,
            ver: ob
        })
    }
    function f() {
        var a = null;
        a = ib.mode === db.Modes.FLOATING ? {
            selector: "body",
            css: {
                position: "fixed",
                display: "none",
                "z-index": 999999,
                margin: 0,
                zoom: 1
            }
        } : {
            selector: db.STANDALONE_SELECTOR,
            css: {
                display: "none",
                margin: 0,
                zoom: 1
            }
        }, vb = nb("<div id='" + db.LOCATOR_ID + "' />").appendTo(a.selector), vb.css(a.css), rb && vb.addClass("ie-" + sb).addClass("ie"), vb.attr("lang", ib.locale)
    }
    function g() {
        nb(".wix-users-auth").click(function(a) {
            a.preventDefault();
            var b = nb(this);
            F({
                context: b.attr("rev"),
                origin: b.attr("rel")
            })
        }), ib.mode === db.Modes.FLOATING && nb(window).resize(function() {
            var a = j();
            nb("#" + db.LOCATOR_ID).css({
                top: a.top
            })
        })
    }
    function h(a) {
        return a = a || {}, ib.userToken && (a.userToken = ib.userToken), ib.color && (a.color = ib.color), a
    }
    function i() {
        nb = ib.JQUERY || ib.jQueryLib || nb, ib.defaultEmail && vb.find("input[name='email']").each(function(a, b) {
            nb(b).val(ib.defaultEmail)
        })
    }
    function j() {
        return {
            top: 70,
            left: nb(window).width() / 2 - nb("#" + db.LOCATOR_ID).width() / 2
        }
    }
    function k(a) {
        R(), l(a), vb.find(".dialog-tab:visible input").trigger("blur"), vb.find(".dialog-tab:visible input[name='" + a.name + "']").hasClass("placeholder") || vb.find(".dialog-tab:visible input[name='" + a.name + "']").putCursorAtEnd()
    }
    function l(a) {
        var b = a.name || lb.EMAIL, c=!1, d = {
            context: a.context
        };
        switch (a.socialNetwork && nb.extend(d, {
            socialNetwork: a.socialNetwork
        }), a.errorCode = a.errorCode || db.Errors.RUNTIME_ERROR, a.errorCode.toString()) {
        case"101":
            a.name === lb.PASSWORD ? fb.log(kb.PASSWORD_TOO_SHORT, d) : a.name === lb.EMAIL && fb.log(kb.EMAIL_INVALID, d), _();
            break;
        case"102":
            b = lb.EMAIL_VALIDATION, fb.log(kb.EMAILS_DONT_MATCH, d), _();
            break;
        case"103":
            b = lb.PASSWORD_VALIDATION, fb.log(kb.PASSWORDS_DONT_MATCH, d), _();
            break;
        case"9966":
            fb.log(kb.FORGOT_PASSWORD_UNREGISTERED_EMAIL_RES), _();
            break;
        case"9960":
            b = lb.PASSWORD, fb.log(kb.ERROR_UNKNOWN_EMAIL, d), c=!0, window.LoginDialog._captchaAdded ? ab(a.context) : _();
            break;
        case"9967":
        case"9968":
            b = lb.EMAIL, fb.log(kb.EMAIL_ALREADY_EXISTS), _();
            break;
        case"9971":
            b = lb.EMAIL, fb.log(kb.ERROR_UNKNOWN_EMAIL), _();
            break;
        case"99711":
            fb.log(kb.EMAIL_INVALID, d), _();
            break;
        case"99721":
            b = lb.PASSWORD, fb.log(kb.PASSWORD_INVALID, d), _();
            break;
        case"9973":
            a.name === lb.PASSWORD ? fb.log(kb.PASSWORD_EMPTY, d) : a.name === lb.EMAIL && fb.log(kb.EMAIL_EMPTY, d), _();
            break;
        case"9980":
            b = lb.PASSWORD, c=!0;
            break;
        case"9981":
        case"9982":
            ab(a.context), window.LoginDialog._captchaAdded=!0;
            break;
        default:
            fb.logError({
                cat: 3,
                iss: 1,
                sev: 20,
                errc: 6005,
                ver: ob,
                dsc: "errc: " + a.errorCode.toString() + ", date: " + (new Date).toString()
            }), b = vb.find(".dialog-tab:visible label.error-message:last").attr("name"), c=!0
        }
        nb.extend(a, {
            name: b,
            errorCode: a.errorCode.toString(),
            errorDescription: ub["error_" + a.errorCode.toString().replace("-", "")] || ub.error_9975 || ""
        }), "9981" === a.errorCode || "9982" === a.errorCode ? a.name = "captchaValidation" : vb.find("[name='captchaValidation']").css("display", "none"), a.data && nb.each(a.data, function(b, c) {
            a.errorDescription = a.errorDescription.toString().replace(new RegExp("\\$\\{" + b + "\\}", "g"), c)
        });
        var e = "inp-error" + (c ? " gen-error" : "");
        vb.find(".dialog-tab:visible input[name='" + a.name + "']").addClass(e).siblings("input").addClass(e), vb.find(".dialog-tab:visible label.error-message[name='" + a.name + "']").html(a.errorDescription).slideDown()
    }
    function m(a) {
        var b = function(b) {
            window.setTimeout(function() {
                switch (typeof b) {
                case"string":
                    window.location.href = b;
                    break;
                case"function":
                    b(a)
                }
                R()
            }, 100)
        };
        a.context === db.Contexts.FORGOT_PASSWORD && S(a);
        var c = a.socialNetwork ? {
            socialNetwork: a.socialNetwork
        }
        : {};
        switch (a.context) {
        case jb.LOGIN:
            fb.log(kb.LOGIN_SUCCESS, c), b(ib.postLogin), T(!0);
            break;
        case jb.SIGN_UP:
            fb.log(kb.SIGN_UP_SUCCESS, c), b(ib.postSignUp), T(!0);
            break;
        case jb.FORGOT_PASSWORD:
            fb.log(kb.FORGOT_PASSWORD_SUCCESS_RES, c), b(ib.postForgotPassword);
            break;
        case jb.SET_PASSWORD:
            fb.log(kb.SET_PASSWORD_SUCCESS, c), b(), T(!0);
            break;
        case jb.ACCOUNT_VERIFY:
            fb.log(kb.VERIFICATION_SUCCESS, c), b(ib.postLogin), T(!0);
            break;
        case jb.ACCOUNT_MERGE:
            fb.log(kb.MERGE_SUCCESS, c), b(ib.postLogin), T(!0)
        }
    }
    function n() {
        ib.context === jb.SIGN_UP && "" !== nb("#" + ib.context + "-input-email").val() ? nb("#" + ib.context + "-input-email-validation").putCursorAtEnd() : ib.context === jb.SET_PASSWORD || ib.context === jb.ACCOUNT_VERIFY ? nb("#" + ib.context + "-input-password").putCursorAtEnd() : ib.defaultEmail ? ib.defaultEmail.length && nb("#" + ib.context + "-input-password").putCursorAtEnd() : nb("#" + ib.context + "-input-email").putCursorAtEnd()
    }
    function o() {
        vb.find(".action-close").click(function(a) {
            a.preventDefault(), ib.disableClose ? J(jb.LOGIN) : T(!1)
        })
    }
    function p() {
        vb.find(".switch-context").click(function(a) {
            a.preventDefault();
            var b = nb(this).attr("rev");
            b === jb.FORGOT_PASSWORD && fb.log(kb.FORGOT_PASSWORD_DISPLAYED), J(b), fb.log(kb.ON_SHOW, {
                context: b
            })
        })
    }
    function q(a) {
        return a.filter("[name='context']:checked").attr("value") === jb.SIGN_UP ? (fb.log(kb.ON_SHOW, {
            context: jb.SIGN_UP
        }), J(jb.SIGN_UP), !0) : !1
    }
    function r() {
        vb.find(".dialog-box-login").submit(function(a) {
            a.preventDefault();
            var b = nb(this).find("input");
            if (q(b))
                return !1;
            var c = jb.LOGIN;
            nb(this).find("input").trigger("focus"), fb.log(kb.LOGIN_BTN_CLICKED);
            var d = function(a) {
                m(nb.extend(a, {
                    context: c
                }))
            }, e = function(a) {
                k(nb.extend(a, {
                    context: c
                }))
            };
            return hb.validate(b, function() {
                fb.log(kb.REQUEST_SENT), Q(), tb.login(b.filter("[name='email']").val().trim(), b.filter("[name='password']").val(), b.filter("[name='rememberMe']").is(":checked"), e, d, h())
            }, e), !1
        })
    }
    function s(a) {
        var b;
        return a && (b = a.getResponseHeader("x-wix-redirect-url")) ? (window.location.href = b, !0) : !1
    }
    function t(a, b, c) {
        P() || (Q(), nb.extend(b, {
            loginOnly: void 0 !== c ? c: !tb.isUnknownUser()
        }), tb.socialLogin(a, b, function(c, d) {
            if (c && c.errorCode && "9967" === c.errorCode.toString()) {
                var e = c.errorDescription;
                K(e, a, function(c) {
                    fb.log(kb.VERIFICATION_REQUEST_SENT, {
                        socialNetwork: a
                    }), t(a, nb.extend(b, {
                        password: c
                    }))
                })
            } else if (c && c.errorCode && "9976" === c.errorCode.toString())
                M(a, b);
            else if (c && c.errorCode && "9971" === c.errorCode.toString())
                L(a, b);
            else {
                if (s(d))
                    return;
                k(nb.extend(c, {
                    context: ib.context,
                    socialNetwork: a
                }))
            }
        }, function(c, d) {
            s(d) || m(nb.extend(c, {
                context: b.password ? jb.ACCOUNT_VERIFY: "login" === c.action ? jb.LOGIN: jb.SIGN_UP,
                socialNetwork: a
            }))
        }, h()))
    }
    function u(a, b) {
        (b || a["g-oauth-window"] && wb) && (a.code && a.id_token ? (fb.log(kb.SOCIAL_AUTH_SUCCESS, {
            context: ib.context,
            socialNetwork: db.SocialNetworks.GOOGLE.name,
            interactive: "consent" === a["g-oauth-window"],
            state: a.state
        }), t(db.SocialNetworks.GOOGLE.name, {
            code: a.code,
            id_token: a.id_token,
            state: a.state
        })) : (fb.log(kb.SOCIAL_AUTH_ERRROR, {
            socialNetwork: db.SocialNetworks.GOOGLE.name,
            reason: a.error ? a.error: "Unknown error",
            state: a.state
        }), b && t(db.SocialNetworks.GOOGLE.name, {
            error: a.error,
            state: a.state
        })))
    }
    function v() {
        db.renderSocialLogin.google("customGPBtn", u), nb("#customGPBtn").click(function() {
            O(), "undefined" != typeof gapi && gapi.signin || vb.find(".social-login-tab-container label.error-message[name='gapi']").html(ub.google_not_loaded).addClass("gen-err").fadeIn(), fb.log(kb.SOCIAL_AUTH_REQUEST_SENT, {
                context: ib.context,
                socialNetwork: db.SocialNetworks.GOOGLE.name
            })
        }), db.renderSocialLogin.facebook("customFBBtn", function(a) {
            a.authResponse ? FB.api("/me", function(b) {
                fb.log(kb.SOCIAL_AUTH_SUCCESS, {
                    context: ib.context,
                    socialNetwork: db.SocialNetworks.FACEBOOK.name,
                    interactive: FB.wasAlreadyConnected ? 0: 1
                }), t(db.SocialNetworks.FACEBOOK.name, {
                    access_token: a.authResponse.accessToken,
                    fb_email: b.email,
                    user_id: b.id
                })
            }) : (fb.log(kb.SOCIAL_AUTH_ERRROR, {
                socialNetwork: db.SocialNetworks.FACEBOOK.name,
                reason: a.status
            }), eb.log("There was an error: " + a.status))
        }), nb("#customFBBtn").click(function() {
            O(), "undefined" == typeof FB && vb.find(".social-login-tab-container label.error-message[name='fb']").html(ub.facebook_not_loaded).addClass("gen-err").fadeIn(), fb.log(kb.SOCIAL_AUTH_REQUEST_SENT, {
                context: ib.context,
                socialNetwork: db.SocialNetworks.FACEBOOK.name
            })
        })
    }
    function w(a) {
        hb.validate(a.filter(function() {
            return "" !== nb(this).val()
        }), mb, function(a) {
            l(nb.extend(a, {
                context: ib.Context
            }))
        })
    }
    function x() {
        vb.find("input[validation]").blur(function() {
            var a = this;
            window.setTimeout(function() {
                (!document.activeElement || nb(document.activeElement).is("input,body,.dialog-body")) && w(nb(a))
            }, 0)
        })
    }
    function y() {
        vb.find(".dialog-box-sign-up").submit(function(a) {
            a.preventDefault();
            var b = jb.SIGN_UP;
            nb(this).find("input").trigger("focus");
            var c = nb(this).find("input:visible");
            return fb.log(kb.SIGN_UP_CLICKED), hb.validate(c, function() {
                fb.log(kb.SIGN_UP_REQUEST_SENT), Q(), tb.createUser(c.filter("[name='email']").val().trim(), c.filter("[name='password']").val(), function(a) {
                    k(nb.extend(a, {
                        context: b
                    }))
                }, function(a) {
                    m(nb.extend(a, {
                        context: b
                    }))
                }, h({
                    sendEmail: ib.sendEmail
                }))
            }, function(a) {
                k(nb.extend(a, {
                    context: b
                }))
            }), !1
        })
    }
    function z() {
        vb.find(".dialog-box-forgot-password").submit(function(a) {
            a.preventDefault();
            var b = jb.FORGOT_PASSWORD;
            nb(this).find("input").trigger("focus");
            var c = nb(this).find("input:visible");
            return fb.log(kb.FORGOT_PASSWORD_SUBMIT_CLICKED), hb.validate(c, function() {
                Q(), tb.forgotPassword(c.filter("[name='email']").val().trim(), function(a) {
                    k(nb.extend(a, {
                        context: b
                    }))
                }, function(a) {
                    m(nb.extend(a, {
                        context: b
                    }))
                })
            }, function(a) {
                k(nb.extend(a, {
                    context: b
                }))
            }), !1
        })
    }
    function A() {
        vb.find(".dialog-box-set-password").submit(function(a) {
            a.preventDefault();
            var b = jb.SET_PASSWORD;
            nb(this).find("input").trigger("focus");
            var c = nb(this).find("input:visible");
            return fb.log(kb.SET_PASSWORD_CLICKED), hb.validate(c, function() {
                fb.log(kb.SET_PASSWORD_SENT), Q(), tb.updateUser(c.filter("[name='password']").val(), "", c.filter("[name='password']").val(), "", "", function(a) {
                    k(nb.extend(a, {
                        context: b
                    }))
                }, function(a) {
                    m(nb.extend(a, {
                        context: b
                    }))
                })
            }, function(a) {
                k(nb.extend(a, {
                    context: b
                }))
            }), !1
        })
    }
    function B() {
        nb(".dialog-close.action-close").blur(function() {
            nb('input[tabindex="1"]:visible').focus()
        })
    }
    function C() {
        ib.mode !== db.Modes.FLOATING || ib.disableClose || nb(document).bind("keydown.LoginDialog", function(a) {
            return 27 === a.keyCode ? (T(!1), !1) : void 0
        })
    }
    function D() {
        nb(document).unbind("keydown.LoginDialog")
    }
    function E() {
        var a = "";
        a += db.View.create(ub, ib.mode === db.Modes.FLOATING&&!ib.disableClose), vb.html(a), ib.skipLogin && vb.find(".skip-login").show()
    }
    function F(a) {
        zb || fb.log(kb.COOKIES_BLOCKED), a = b(a || {}), ib = nb.extend(ib, a), ib = nb.extend(ib, {
            CaptchaService: window.Recaptcha
        }), wb=!0, fb.log(kb.BEFORE_SHOW, {
            origin: ib.origin,
            ver: LoginDialogHelper.parseVersionFromPath(ib.sourcesRootPath)
        }), a.context || (ib.context = tb.isUnknownUser() ? jb.SIGN_UP : jb.LOGIN), U(), N(), i(), Y(), C(), fb.log(kb.ON_SHOW, {
            context: ib.context
        })
    }
    function G(a) {
        return ".dialog-box-" + a
    }
    function H(a) {
        var b = vb.find(".dialog-box-" + ib.context + " input[name='email']").val() || vb.find(".dialog-box-" + ib.context + " span.email").html() || "";
        vb.find(".dialog-box-" + a + " input[name='email']").val(b.trim());
        var c = vb.find(".dialog-box-" + ib.context + " input[name='password']").val() || "";
        vb.find(".dialog-box-" + a + " input[name='password']").val(c.trim())
    }
    function I() {
        vb.find("input[name='context']")[1].click()
    }
    function J(a) {
        O(), H(a), ib.context = a, vb.find(".dialog-tab:visible").fadeOut(150, function() {
            I(), vb.find(G(ib.context)).fadeIn(150, function() {
                rb || n();
                var b = vb.find(".right-slider");
                b&&-1 !== nb.inArray(a, [jb.LOGIN, jb.SIGN_UP]) !== b.is(":visible") && b.animate({
                    width: "toggle"
                }, null, null, function() {
                    Z()
                }), vb.find(".dialog-box-" + a + " input").each(function() {
                    w(nb(this))
                })
            })
        })
    }
    function K(a, b, c) {
        vb.find(".dialog-tab.dialog-box-account-verify .email").html(a), wb ? J(jb.ACCOUNT_VERIFY) : F({
            context: jb.ACCOUNT_VERIFY
        }), fb.log(kb.ON_SHOW, {
            context: ib.context,
            socialNetwork: b
        }), R(), vb.find(".dialog-box-account-verify").unbind("submit").submit(function(a) {
            a.preventDefault();
            var d = jb.ACCOUNT_VERIFY;
            nb(this).find("input").trigger("focus");
            var e = nb(this).find("input:visible");
            return hb.validate(e, function() {
                c.call(this, e.filter("[name='password']").val())
            }, function(a) {
                k(nb.extend(a, {
                    context: d,
                    socialNetwork: b
                }))
            }), !1
        }), vb.find(".dialog-box-account-verify #verify-switch-context-forgot-password").click(function() {
            window.setTimeout(function() {
                vb.find(".dialog-box-forgot-password").submit()
            }, 200)
        })
    }
    function L(a, b) {
        J(jb.GET_EMAIL), fb.log(kb.ON_SHOW, {
            context: ib.context,
            socialNetwork: a
        }), R(), vb.find(".dialog-box-get-email").unbind("submit").submit(function(c) {
            c.preventDefault(), nb(this).find("input").trigger("focus");
            var d = nb(this).find("input:visible");
            return hb.validate(d, function() {
                fb.log(kb.GET_EMAIL_REQUEST_SENT, {
                    socialNetwork: a
                }), t(a, nb.extend({
                    email: d.filter("[name='email']").val().trim()
                }, b), !1)
            }, function(b) {
                k(nb.extend(b, {
                    context: ib.context,
                    socialNetwork: a
                }))
            }), !1
        })
    }
    function M(a, b) {
        wb ? J(jb.ACCOUNT_MERGE) : F({
            context: jb.ACCOUNT_MERGE
        }), vb.find(".dialog-box-account-merge").find("div").each(function() {
            var b = nb(this).attr("social_network_str");
            b && nb(this).html(b.replace("{socialNetwork}", ub[a]))
        }), fb.log(kb.ON_SHOW, {
            context: ib.context,
            socialNetwork: a
        }), R(), vb.find(".action-nomerge").unbind("click").click(function() {
            fb.log(kb.MERGE_SKIPPED, {
                socialNetwork: a
            }), t(a, b, !1)
        }), vb.find(".dialog-box-account-merge").unbind("submit").submit(function(c) {
            c.preventDefault(), nb(this).find("input").trigger("focus");
            var d = nb(this).find("input:visible");
            return hb.validate(d, function() {
                fb.log(kb.MERGE_REQUEST_SENT, {
                    socialNetwork: a
                }), Q(), tb.socialLogin(a, nb.extend({
                    email: d.filter("[name='email']").val().trim(),
                    password: d.filter("[name='password']").val()
                }, h(b)), function(b) {
                    k(nb.extend(b, {
                        context: ib.context,
                        socialNetwork: a
                    }))
                }, function(b) {
                    m(nb.extend(b, {
                        context: ib.context,
                        socialNetwork: a
                    }))
                })
            }, function(b) {
                k(nb.extend(b, {
                    context: ib.context,
                    socialNetwork: a
                }))
            }), !1
        })
    }
    function N() {
        if (0 === vb.children().length)
            return void(qb=!0);
        ib.context === jb.SIGN_UP ? (ib.context = jb.LOGIN, vb.find('input[value="' + jb.SIGN_UP + '"]').prop("checked", "checked").change()) : vb.find('input[value="' + jb.LOGIN + '"]').prop("checked", "checked").change(), O(), vb.find(".dialog-tab.dialog-box-forgot-password .step-1").css("display", "block"), vb.find(".dialog-tab.dialog-box-forgot-password .step-2").css("display", "none"), vb.find(".dialog-tab").hide(), vb.find(G(ib.context)).show();
        var a = vb.find(".right-slider");
        a && ( - 1 !== nb.inArray(ib.context, [jb.LOGIN, jb.SIGN_UP]) ? a.show() : a.hide())
    }
    function O(a) {
        a = a || vb.find("input[type='text'], input[type='password']"), nb(nb.merge(a.parent().find("input"), vb.find("input.gen-error"))).removeClass("inp-error gen-error").parents(".input-box").find("label.error-message").slideUp().empty(), vb.find("label.error-message.gen-err").fadeOut().removeClass("gen-error")
    }
    function P() {
        return vb.hasClass("disabled")
    }
    function Q() {
        vb.find(".loading").show(), vb.find(".action-box .dialog-button").addClass("disabled"), vb.addClass("disabled")
    }
    function R() {
        vb.find(".loading").hide(), vb.find(".action-box .dialog-button").removeClass("disabled"), vb.removeClass("disabled")
    }
    function S() {
        vb.find(".dialog-tab:visible .step-1").fadeOut(150, function() {
            vb.find(".dialog-tab:visible .step-2").fadeIn(150)
        })
    }
    function T(a) {
        qb=!1, wb=!1, vb.find("input[type=password]").val(""), nb("#" + db.LOCATOR_ID).fadeOut(function() {
            nb(this).css({
                display: "none"
            }), V()
        }), D(), ib.onClose(ib.context, a), a || fb.log(kb.DIALOG_CLOSED, {
            context: ib.context
        })
    }
    function U() {
        ib.mode === db.Modes.FLOATING && (0 === nb("#user-auth-dialog-mask").length ? nb("<div id='user-auth-dialog-mask'></div>").css({
            position: "fixed",
            top: 0,
            left: 0,
            height: "100%",
            width: "100%",
            "z-index": 999998
        }).appendTo("body") : nb("#user-auth-dialog-mask").show())
    }
    function V() {
        ib.mode === db.Modes.FLOATING && nb("#user-auth-dialog-mask").hide()
    }
    function W() {
        vb.find("input").placeholder(), vb.find("input[type='text'], input[type='password']").keydown(function(a) {
            9 !== a.which && 16 !== a.which && O(nb(this))
        }), vb.find("input[name='context']").change(function() {
            O(nb())
        })
    }
    function X() {
        W(), o(), p(), r(), v(), y(), z(), A(), x(), B()
    }
    function Y() {
        window.setTimeout(function() {
            var a = j();
            ib.mode === db.Modes.STANDALONE && vb.children().css({
                left: "0px"
            }), vb.css({
                top: a.top,
                display: "block",
                visibility: "visible"
            }).fadeIn(200, function() {
                rb || n()
            }), Z()
        }, 50)
    }
    function Z() {
        if (db.showUpdateToSp3Message) {
            var a = vb.find("#update-to-sp3-message-icon"), b = vb.find("#update-to-sp3-message-text"), c = vb.find("#update-to-sp3-message"), d = vb.find(".dialog-body"), e = 70, f = 25;
            c.css("display", "none");
            var g = d.width();
            c.css("display", "block"), c.animate({
                width: g - e + "px"
            }, null, null, function() {
                switch (ib.context) {
                case db.Contexts.LOGIN:
                case db.Contexts.SIGN_UP:
                    var d = c.height();
                    a.css("margin-top", (d - f) / 2 + "px"), a.fadeIn(), b.css("padding", "24px 40px 24px 80px");
                    break;
                case db.Contexts.FORGOT_PASSWORD:
                case db.Contexts.SET_PASSWORD:
                case db.Contexts.ACCOUNT_MERGE:
                case db.Contexts.ACCOUNT_VERIFY:
                    a.css("display", "none"), b.css("padding", "24px 20px 24px 20px")
                }
            })
        }
    }
    function _() {
        window.Recaptcha.destroy(), window.LoginDialog._captchaAdded=!1, jQuery("#captcha-wrapper-login").addClass("hidden"), jQuery("#captcha-wrapper-sing-up").addClass("hidden")
    }
    function ab(a) {
        window.LoginDialog._captchaAdded ? (window.Recaptcha.reload(), vb.find("[name='captchaValidation']").css("display", "block").html(ub.error_9982)) : (nb("#captcha-wrapper-" + a).removeClass("hidden"), window.$recaptcha = window.Recaptcha, window.Recaptcha.create("6LfI-PISAAAAAKNcmYVWkH2CXIUoCYA8Y62oUPFg", "wix-captcha-default-" + a, {
            theme: "white",
            callback: Recaptcha.focus_response_field,
            tabindex: 6,
            custom_translations: {
                instructions_visual: ub.instructions_visual,
                instructions_audio: ub.instructions_audio,
                play_again: ub.play_again,
                cant_hear_this: ub.cant_hear_this,
                visual_challenge: ub.visual_challenge,
                audio_challenge: ub.audio_challenge,
                refresh_btn: ub.refresh_btn,
                help_btn: ub.help_btn,
                incorrect_try_again: ub.help_btn
            }
        }))
    }
    function bb(a) {
        for (var b = 1; b < arguments.length; b++)
            for (var c in arguments[b])
                a[c] = arguments[b][c];
        return a
    }
    function cb() {
        function a(a) {
            return function() {
                d.push(a), 2 === d.length&&-1 !== d.indexOf("http success")&&-1 !== d.indexOf("https error") && (db.showUpdateToSp3Message=!0, fb.log(kb.UPGRADE_TO_SP3_MESSAGE_SHOWN), wb && Z())
            }
        }
        var b = LoginDialogHelper.isWinXP(), c = window.location.protocol.indexOf("https") >= 0;
        if (!c && b&&!db.checkedXpSp2ChromeSslProblem) {
            db.checkedXpSp2ChromeSslProblem=!0;
            var d = [];
            tb.ping(a("http error"), a("http success"), !0), tb.ping(a("https error"), a("https success"), !1)
        }
    }
    var db = window.LoginDialog || (window.LoginDialog = {});
    window.LoginDialog._captchaAdded=!1;
    var eb = eb || {
        log: function() {},
        error: function() {},
        warn: function() {}
    };
    db.Modes = {
        FLOATING: "floating",
        STANDALONE: "standalone"
    }, db.Contexts = {
        LOGIN: "login",
        SIGN_UP: "sign-up",
        FORGOT_PASSWORD: "forgot-password",
        ACCOUNT_VERIFY: "account-verify",
        SET_PASSWORD: "set-password",
        ACCOUNT_MERGE: "account-merge",
        GET_EMAIL: "get-email"
    }, db.BIEvents = {
        BEFORE_SHOW: 100,
        ON_SHOW: 101,
        PASSWORD_EMPTY: 102,
        PASSWORD_TOO_SHORT: 103,
        EMAIL_EMPTY: 104,
        EMAIL_INVALID: 105,
        PASSWORD_INVALID: 106,
        EMAILS_DONT_MATCH: 107,
        PASSWORDS_DONT_MATCH: 108,
        LOGIN_BTN_CLICKED: 110,
        REQUEST_SENT: 111,
        ERROR_UNKNOWN_EMAIL: 112,
        ERROR_WRONG_PASSWORD: 113,
        LOGIN_SUCCESS: 114,
        SIGN_UP_CLICKED: 120,
        SIGN_UP_REQUEST_SENT: 121,
        SIGN_UP_SUCCESS: 122,
        EMAIL_ALREADY_EXISTS: 123,
        FORGOT_PASSWORD_DISPLAYED: 130,
        FORGOT_PASSWORD_SUBMIT_CLICKED: 131,
        FORGOT_PASSWORD_UNREGISTERED_EMAIL_RES: 132,
        FORGOT_PASSWORD_SUCCESS_RES: 133,
        SET_PASSWORD_CLICKED: 134,
        SET_PASSWORD_SENT: 135,
        SET_PASSWORD_SUCCESS: 136,
        SOCIAL_AUTH_REQUEST_SENT: 140,
        SOCIAL_AUTH_ERRROR: 141,
        SOCIAL_AUTH_SUCCESS: 142,
        VERIFICATION_REQUEST_SENT: 143,
        VERIFICATION_SUCCESS: 144,
        MERGE_REQUEST_SENT: 145,
        MERGE_SUCCESS: 146,
        MERGE_SKIPPED: 147,
        COOKIES_BLOCKED: 148,
        GET_EMAIL_REQUEST_SENT: 149,
        INIT_START: 300,
        INIT_COMPLETE: 302,
        DIALOG_CLOSED: 303,
        UPGRADE_TO_SP3_MESSAGE_SHOWN: 304
    }, db.Fields = {
        EMAIL: "email",
        EMAIL_VALIDATION: "emailValidation",
        PASSWORD: "password",
        PASSWORD_VALIDATION: "passwordValidation",
        REMEMBER_ME: "remember_me"
    }, db.Errors = {
        OK: "0",
        RUNTIME_ERROR: "100"
    }, db.SupportedLanguages = ["en", "es", "fr", "pt", "de", "it", "pl", "ru", "ja", "ko", "tr"], db.SupportedFlows = ["gplus"], db.STANDALONE_SELECTOR = "#login-standalone-container", db.LOCATOR_ID = "user-auth-dialog-container", db.DEPRECATED_CREATE_USER_CONTEXT = "createUser", db.SocialNetworks = {
        GOOGLE: {
            name: "google",
            clientId: "352188552355.apps.googleusercontent.com"
        },
        FACEBOOK: {
            name: "facebook",
            clientId: window.location.hostname.match(/\.wixpress\.com$/) ? "604167829621485": "733768086637828"
        }
    };
    var fb, gb, hb, ib, jb = db.Contexts, kb = db.BIEvents, lb = db.Fields, mb = function() {}, nb = $, ob = "2.446.0", pb=!1, qb=!1, rb=!1, sb = 10, tb = null, ub = null, vb = null, wb=!1, xb = 3e3, yb = {
        biLogger: null,
        locale: "en",
        sourcesRootPath: "http://static.wix.com/services/wix-users/" + ob,
        featuresToggleUrl: "https://api.wix.com/common-services/api/experiments/feature_toggles",
        fontsPath: "https://sslstatic.wix.com/services/third-party/fonts/Helvetica/fontFace.css",
        featureToggles: {},
        flow: "gplus",
        context: jb.LOGIN,
        mode: db.Modes.FLOATING,
        experiments: null,
        JQUERY: $,
        sendEmail: !0,
        onLoad: mb,
        onClose: mb,
        postLogin: mb,
        postSignUp: mb,
        postForgotPassword: mb
    };
    window.fbAsyncInit = function() {
        FB.init({
            appId: db.SocialNetworks.FACEBOOK.clientId,
            channelUrl: "//www.wix.com/channel.html",
            status: !0,
            cookie: !0,
            xfbml: !0
        }), FB.getLoginStatus(function(a) {
            FB.wasAlreadyConnected = "connected" === a.status?!0 : !1
        })
    };
    var zb = navigator && navigator.cookieEnabled || "cookie"in document && (document.cookie.length > 0 || (document.cookie = "test").indexOf.call(document.cookie, "test")>-1);
    nb.fn.putCursorAtEnd = function() {
        return this.each(function() {
            if (nb(this).focus(), this.setSelectionRange) {
                var a = 2 * nb(this).val().length;
                this.setSelectionRange(a, a)
            } else 
                nb(this).val(nb(this).val())
        })
    }, bb(db, {
        isExperimentActive: function(a) {
            var b = ib.openExperiments;
            return b ? "true" === b[a] : !1
        },
        getCaptchaService: function() {
            return ib.CaptchaService
        },
        init: function(a) {
            return pb || (c(a), cb()), db
        },
        show: function(a) {
            F(a)
        },
        hide: function() {
            T(!1)
        },
        bindEvent: function(a, b, c) {
            vb.on(a, b, c)
        },
        handleGoogleSocialLogin: function(a) {
            u(a, !0)
        },
        renderSocialLogin: {
            google: function(a, b) {
                "undefined" != typeof gapi && gapi.signin && "function" == typeof gapi.signin.render ? gapi.signin.render(a, {
                    callback: b,
                    clientid: db.SocialNetworks.GOOGLE.clientId,
                    accesstype: "offline",
                    cookiepolicy: "single_host_origin",
                    scope: "profile email"
                }) : eb.error("gapi object not found or broken")
            },
            facebook: function(a, b) {
                nb("string" == typeof a ? "#" + a : a).click(function() {
                    "undefined" != typeof FB && "function" == typeof FB.login ? FB.login("function" == typeof b ? b : function() {
                        window[b].apply(this, arguments)
                    }, {
                        scope: "email"
                    }) : eb.error("fb object not found or broken")
                })
            }
        },
        setLocaleMessages: function(a) {
            return (ub = a) || {}
        },
        setPostLogin: function(a) {
            ib.postLogin = a, ib = b(ib)
        },
        setPostSignUp: function(a) {
            ib.postSignUp = a, ib = b(ib)
        },
        setPostForgotPassword: function(a) {
            ib.postForgotPassword = a, ib = b(ib)
        },
        setOnClose: function(a) {
            ib.onClose = a, ib = b(ib)
        },
        setOnLoad: function(a) {
            ib.onLoad = a, ib = b(ib)
        },
        destroy: function() {
            vb.remove(), db.View = null, qb=!1, pb=!1, db.showUpdateToSp3Message=!1, db.checkedXpSp2ChromeSslProblem=!1
        },
        showUpdateToSp3Message: !1,
        checkedXpSp2ChromeSslProblem: !1
    })
}(), function() {
    var a = window.UserServerApi || (window.UserServerApi = {});
    a.cookies = a.cookies || {}, a.cookies.setCookie = function(a, b, c, d, e, f) {
        window[a] = b;
        var g = a + "=" + b;
        g += c ? ";expires=" + new Date((new Date).getTime() + c).toGMTString() : "", g += ";path=" + (e || "/"), g += d ? ";domain=" + d : "", g += f ? ";secure" : "", document.cookie = g
    }, a.cookies.getCookie = function(a) {
        if (window[a])
            return window[a];
        for (var b = document.cookie.split(/;\s*/), c = 0; c < b.length; c++)
            if (0 === b[c].indexOf(a + "="))
                return b[c].substr(a.length + 1);
        return null
    }, a.cookies.deleteCookie = function(a) {
        var b = window.location.host;
        b = b.substring(b.indexOf(".") + 1), this.setCookie(a, "", - 864e5, b, "/")
    }
}(), function() {
    function a(a) {
        for (var b = 1; b < arguments.length; b++)
            for (var c in arguments[b])
                a[c] = arguments[b][c];
        return a
    }
    function b(a) {
        return - 1 === a.indexOf("//www.") ? a : a.replace(/\/\/www\./g, "//" + window.location.host.substr(0, window.location.host.indexOf(".")) + ".")
    }
    function c(a, b, c, d) {
        var f = "_" + (e.comm.jsonpCallbacks.counter++).toString(36), g = function() {
            clearTimeout(k), delete e.comm.jsonpCallbacks[f], document.getElementsByTagName("head")[0].removeChild(j)
        }, h = function(a, b) {
            g(), b.success ? d(b) : c(b)
        }, i = function() {
            g(), c.apply(this, arguments)
        };
        b += "&accept=jsonp", b += "&callback=UserServerApi.comm.jsonpCallbacks." + f, b += "&callerId=" + f, b += "get" === a.toLowerCase() ? "" : "&_method=" + a.toLowerCase();
        var j = document.createElement("script");
        j.type = "text/javascript", j.src = b, j.onerror = i, document.getElementsByTagName("head")[0].appendChild(j);
        var k = setTimeout(i, 6e4);
        e.comm.jsonpCallbacks[f] = h
    }
    function d(a, c, d, e) {
        var f = new XMLHttpRequest;
        c = b(c), f.open(a, c + "&accept=json", !0), f.withCredentials=!0, f.onerror = f.ontimeout = f.onabort = function() {
            d(f)
        }, f.onload = function() {
            if (f.responseText)
                try {
                    var a = JSON.parse ? JSON.parse: eval, b = a(f.responseText);
                    return void(b.success ? e(b, f) : d(b, f))
            } catch (c) {}
            d(f)
        }, f.send()
    }
    var e = window.UserServerApi || (window.UserServerApi = {});
    e.comm = e.comm || {}, e.comm.sendRequest = function(b, f, g, h, i) {
        var j = [];
        e.getOptions().urlParams.language || (e.getOptions().urlParams.language = e.getUserLanguage()), g = a({}, e.getOptions().urlParams, g);
        for (var k in g)
            if (g[k] || "boolean" == typeof g[k])
                if ("[object Array]" === Object.prototype.toString.apply(g[k]))
                    for (var l = 0; l < g[k].length; l++)
                        j.push(encodeURIComponent(k) + "=" + encodeURIComponent(g[k][l]));
                else 
                    j.push(encodeURIComponent(k) + "=" + encodeURIComponent(g[k]));
        f += j.length ? "?" + j.join("&") : "", e.getOptions().jsonpEnabled ? c(b, f, h, i) : d(b, f, h, i)
    }, e.comm.jsonpCallbacks = {
        counter: 0
    }
}(), function() {
    function a(a) {
        for (var b = 1; b < arguments.length; b++)
            for (var c in arguments[b])
                a[c] = arguments[b][c];
        return a
    }
    function b(a, b) {
        var c = "/" === a.substr( - 1) ? a.substring(0, a.length - 1): a, d = "/" === b.substr(0, 1) ? b.substring(1): b;
        return c + "/" + d
    }
    function c(a, b, c) {
        window.LoginDialog.isExperimentActive(a) ? b() : c()
    }
    var d = window.UserServerApi || (window.UserServerApi = {});
    d.consts = {
        userColorServerKey: "color",
        userColorClientKey: "userColor"
    };
    var e = {
        languageCookie: "wixLanguage",
        helperCookie: "wixClient",
        mainCookie: "wixSession",
        uidCookie: "_wixUIDX",
        clientIdCookie: "_wixCIDX",
        languages: {
            en: "en",
            es: "es",
            pt: "pt",
            fr: "fr",
            ru: "ru",
            de: "de",
            pl: "pl",
            it: "it",
            ja: "ja",
            ko: "ko",
            tr: "tr"
        },
        usersDomain: "https://users.wix.com/wix-users",
        jsonpEnabled: !0,
        urlParams: {
            source: "",
            suid: "",
            orgDocID: "null-doc-id",
            appUrl: window.location.protocol + "//" + window.location.host + window.location.pathname,
            urlThatUserRedirectedFrom: window.location.protocol + "//" + window.location.host + window.location.pathname
        }
    }, f = function() {
        for (var a = {}, b = window.location.search.slice(1).split("&"), c = 0; c < b.length; c++)
            a[b[c].split("=")[0]] = decodeURIComponent(b[c].split("=")[1]);
        return a
    }(), g = {};
    g[d.consts.userColorClientKey] = d.consts.userColorServerKey;
    var h = {
        login: {
            method: "GET",
            url: "/auth/login",
            queryParams: a({}, g)
        },
        loginByGuid: {
            method: "GET",
            url: "/auth/loginByGuid",
            queryParams: a({}, g)
        },
        socialLogin: {
            method: "GET",
            url: "/social/login/{providerId}",
            pathVariables: ["providerId"],
            queryParams: a({}, g)
        },
        getSocialConnections: {
            method: "GET",
            url: "/social/connection"
        },
        createSocialConnection: {
            method: "POST",
            url: "/social/connection/{providerId}",
            pathVariables: ["providerId"]
        },
        revokeSocialConnection: {
            method: "DELETE",
            url: "/social/connection/{providerId}",
            pathVariables: ["providerId"]
        },
        createUser: {
            method: "GET",
            url: "/auth/register",
            queryParams: a({}, g)
        },
        forgotPassword: {
            method: "GET",
            url: "/auth/forgotPassword"
        },
        getUserDetails: {
            method: "GET",
            url: "/user/getUserDetails"
        },
        updateUser: {
            method: "GET",
            url: "/user/update"
        },
        setLanguage: {
            method: "GET",
            url: "/user/setLanguage"
        },
        ping: {
            method: "GET",
            url: "/user/ping"
        }
    };
    a(d, {
        setOptions: function(b) {
            return b && (b = a({}, b), a(e.urlParams, b.urlParams || {}), delete b.urlParams, a(e, b)), d
        },
        getOptions: function() {
            return e
        },
        userAction: function(c, g, i, j, k) {
            var l, m = b(e.usersDomain, h[c].url);
            if (k && (m = m.replace("https", "http")), h[c].pathVariables)
                for (l = 0; l < h[c].pathVariables.length; l++)
                    m = m.replace("{" + h[c].pathVariables[l] + "}", g[h[c].pathVariables[l]]), delete g[h[c].pathVariables[l]];
            if (h[c].queryParams) {
                var n = {}, o = h[c].queryParams;
                for (l in o)
                    f[l] ? n[o[l]] = f[l] : e[l] && (n[o[l]] = e[l]);
                for (var p in g) {
                    var q, r, s, t = g[p], u = "object" == typeof t;
                    if (u) {
                        s = p;
                        for (var v in t)
                            q = [s, v].join("."), r = t[v], g[q] = r;
                        delete g[s]
                    }
                }
                g = a(n, g)
            }
            d.comm.sendRequest(h[c].method, m, g, i, j)
        },
        getClientParams: function() {
            var b = d.cookies.getCookie(e.helperCookie);
            if (b) {
                '"' === b[0] && '"' === b[b.length - 1] && (b = JSON.parse(b));
                var c = b.split("|"), f = {
                    userName: c[0],
                    email: c[1],
                    mailStatus: c[2],
                    permissions: c[3],
                    isSessionNew: c[4],
                    isSessionValid: c[5],
                    userID: c[6]
                };
                return c[7] && a(f, JSON.parse(c[7])), f
            }
            return null
        },
        getUserLanguage: function() {
            var a = window.location.host.split("."), b = 2 === a[0].length ? a[0]: null;
            return b = b || d.cookies.getCookie(e.languageCookie), b = b || navigator.language || navigator.browserLanguage, e.languages[b] || "en"
        },
        login: function(b, e, f, g, h, i) {
            var j = function() {
                if (window.LoginDialog.getCaptchaService() && window.LoginDialog.getCaptchaService().get_challenge && window.LoginDialog.getCaptchaService().get_response) {
                    var c = window.LoginDialog.getCaptchaService().get_challenge(), j = window.LoginDialog.getCaptchaService().get_response();
                    try {
                        i = i || {}, i.recaptchaParams = {}, i.recaptchaParams.recaptcha_challenge_field = c, i.recaptchaParams.recaptcha_response_field = j
                    } catch (k) {}
                }
                d.userAction("login", a({
                    email: b,
                    password: e,
                    rememberMe: f,
                    enhanced: 0
                }, i), g, h)
            }, k = function() {
                d.userAction("login", a({
                    email: b,
                    password: e,
                    rememberMe: f,
                    enhanced: 0
                }, i), g, h)
            };
            c("specs.users.RecaptchaABTest", j, k)
        },
        ping: function(a, b, c) {
            d.userAction("ping", {}, a, b, c)
        },
        socialLogin: function(b, c, e, f, g) {
            c = a(c, g), d.userAction("socialLogin", a({
                providerId: b
            }, c), e, f)
        },
        getSocialConnections: function(a, b) {
            d.userAction("getSocialConnections", null, a, b)
        },
        createSocialConnection: function(b, c, e, f) {
            d.userAction("createSocialConnection", a({
                providerId: b
            }, c), e, f)
        },
        revokeSocialConnection: function(a, b, c, e) {
            d.userAction("revokeSocialConnection", {
                providerId: a,
                forceDisconnect: e
            }, b, c)
        },
        loginByGuid: function(a, b, c, e, f) {
            d.userAction("loginByGuid", {
                guid: a,
                password: b,
                rememberMe: c,
                enhanced: 0
            }, e, f)
        },
        createUser: function(b, e, f, g, h) {
            var i = a(h, {
                email: b,
                password: e
            });
            i.sendEmail = h && h.sendEmail===!1 ? "false" : "true";
            var j = function() {
                if (window.LoginDialog.getCaptchaService() && window.LoginDialog.getCaptchaService().get_challenge && window.LoginDialog.getCaptchaService().get_response) {
                    var a = window.LoginDialog.getCaptchaService().get_challenge(), b = window.LoginDialog.getCaptchaService().get_response();
                    try {
                        i.recaptchaParams = {}, i.recaptchaParams.recaptcha_challenge_field = a, i.recaptchaParams.recaptcha_response_field = b
                    } catch (c) {}
                }
                d.userAction("createUser", i, f, g)
            }, k = function() {
                d.userAction("createUser", i, f, g)
            };
            c("specs.users.RecaptchaABTest", j, k)
        },
        forgotPassword: function(a, b, c) {
            d.userAction("forgotPassword", {
                email: a
            }, b, c)
        },
        setLanguage: function(a, b, c) {
            e.urlParams.language = a, d.userAction("setLanguage", null, b, c)
        },
        getUserDetails: function(a, b) {
            d.userAction("getUserDetails", null, a, b)
        },
        updateUser: function(a, b, c, e, f, g, h) {
            var i = {
                newUserName: b,
                newEmail: e,
                optInMail: f,
                newPassword: c,
                password: a
            };
            d.userAction("updateUser", i, g, h)
        },
        getToken: function() {
            return d.cookies.getCookie(e.mainCookie)
        },
        isSessionValid: function() {
            return d.getClientParams() && d.getToken()
        },
        isUnknownUser: function() {
            var a = d.cookies.getCookie(e.uidCookie);
            return !a || "null-user-id" === a
        },
        logout: function() {
            d.cookies.deleteCookie(e.mainCookie), d.cookies.deleteCookie(e.helperCookie)
        },
        getClientId: function() {
            var a = d.cookies.getCookie(e.clientIdCookie);
            return a || "null-client-id"
        }
    })
}();

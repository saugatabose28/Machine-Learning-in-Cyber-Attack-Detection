ISQ.Widget=initializeNS("ISQ.Widget");ISQ.API=initializeNS("ISQ.API");ISQ.Widget.supportsPostMessage=(typeof(window.postMessage)==="function"||typeof(window.postMessage)==="object");ISQ.Widget.getInnerFrameUrl=function(g,l,d){g=g||"CDCframe.html";var a=l.indexOf("://")+3;var f;var b;var e="";if(a!==2){f=l.indexOf("/",a);e=l.substring(0,a);b=l.substring(a,f)}else{f=l.indexOf("/");b=l.substring(0,f)}var h=g.indexOf("://")+3;var k;var i;var j="";if(h!==2){k=g.indexOf("/",h);j=g.substring(0,h);i=g.substring(h,k)}else{k=g.indexOf("/");i=g.substring(0,k)}if(e&&i===b){if(j!==e){return g.replace(j,e)}return g}else{if(d){if(i===ISQ.Http.domain()){return g}return""}}var c="";if(g.charAt(0)==="/"){c=e+b+g}else{if(h!==2){c=e+b+g.substring(k)}else{c=e+b+"/"+g}}return c};ISQ.Widget.extractDataFromScript=function(f){var e={};var g=document.getElementsByTagName("script");var h,a;for(var b=0;b<g.length;++b){h=g[b].getAttribute("src");if(!h){continue}if(!h.contains(f)){continue}if(!h.contains("nanorep.com")&&h.startsWith("http")){continue}var c=-1;if(h.startsWith("/")){c=window.location.href.indexOf("/",8);if(c===-1){e.serverUrl=window.location.href}else{e.serverUrl=window.location.href.substr(0,c)}}else{c=h.indexOf("/",8);if(c!==-1){e.serverUrl=h.substr(0,c)}}h=h.substring(h.indexOf("?")+1);a=ISQ.Tools.stringToPairArray(h,"=","&",true,false);e.cdcFrame=a.innerframeurl;if(!e.cdcFrame){e.cdcFrame=a.cdcframe}if(e.cdcFrame){e.cdcVersion=a.cdcversion;if(!e.cdcVersion){e.cdcVersion=1}e.cdcVersion=parseInt(e.cdcVersion)}e.account=a.account;var d=a.preview;if(d==="true"){e.preview=true;e.referer=a.referer}e.debug=a.debug||false;break}return e};ISQ.Widget.appendConfigurationsToIframeSource=function(a,b){a.push("#account=");a.push(b.account);if(b.kb){a.push("&kb=");a.push(b.kb)}if(b.splitTestGroup){a.push("&splittestgroup=");a.push(b.splitTestGroup)}if(b.preview){a.push("&preview=true")}a.push("&doctype=");a.push(ISQ.Widget.doctype);a.push("&refencoded=true&referer=");a.push(ISQ.Http.Cookies.encode64(b.referer));if(!ISQ.Widget.supportsPostMessage&&b.cdcFrame){a.push("&cdcFrame=");
a.push(ISQ.Widget.getInnerFrameUrl(b.cdcFrame,window.location.href));a.push("&cdcversion=");a.push(b.cdcVersion)}if(ISQ.Widget.supportsPostMessage){a.push("&cnf=true")}if(b.pageId){a.push("&pageId=");a.push(b.pageId)}if(b.searchDelay){a.push("&searchDelay=");a.push(b.searchDelay)}a.push("&reportEvents=true");if(b.debug){a.push("&debug=isq")}ISQ.Widget.appendCustomValuesToStringBuilder(a,b.customValues)};ISQ.Widget.appendCustomValuesToStringBuilder=function(c,a){if(!a){return}var d;for(var b in a){d=typeof(a[b]);if(d==="function"||d==="object"){continue}c.push("&");c.push(b);c.push("=");if(d==="string"){if(b==="onloadQuestionId"||b==="languageCode"||b=="configId"){c.push(a[b])}else{c.push(ISQ.Http.Cookies.encode64(a[b]))}}else{c.push(a[b])}}};ISQ.Widget.downloadAndSendCNF=function(b){if(!ISQ.Widget.CNFStatus){ISQ.Widget.CNFStatus=[]}var a=ISQ.Widget.CNFStatus[b.id]={downloaded:false,waitingForDownload:false};if(!window._nRepData.eCNFLoaded){window._nRepData.eCNFLoaded=new ISQ.Event()}if(b.useExistingCNF&&((b.id==="float"&&typeof(ISQ.Cnf_Float)==="object")||(b.id==="embed"&&typeof(ISQ.Cnf_Embed)==="object"))){if(!ISQ.Widget.supportsPostMessage){return false}ISQ.Widget.cnfLoaded(b);b.useExistingCNF=false;a.downloaded=true;return true}ISQ.Widget.downloadCnf(b,function(){ISQ.Widget.cnfLoaded(b);if(!ISQ.Widget.supportsPostMessage){return}a.downloaded=true;if(!a.waitingForDownload){return}if(b.type==="float"){ISQ.Widget.sendCNFData(ISQ.Cnf_Float,b)}else{ISQ.Widget.sendCNFData(ISQ.Cnf_Embed,b)}});return ISQ.Widget.supportsPostMessage};ISQ.Widget.cnfLoaded=function(widgetData){var cnf=null;if(widgetData.type==="float"){cnf=ISQ.Cnf_Float}else{cnf=ISQ.Cnf_Embed}if(!cnf){return}var chatConfig=eval("("+cnf.chatConfiguration+")");if(chatConfig.active==="LP"){if(typeof(lpMTagConfig)!="undefined"&&typeof(lpMTagConfig.LPSID_VAR)!="undefined"){chatConfig.LP.visitorId=lpMTagConfig.LPSID_VAR;cnf.chatConfiguration=ISQ.Data.jsonToString(chatConfig)}else{var lptagInterval=setInterval(function(){if(typeof(lpMTagConfig)!="undefined"&&typeof(lpMTagConfig.LPSID_VAR)!="undefined"){stringBuilder=[];
stringBuilder.push("subject=visitorId&data=");stringBuilder.push(lpMTagConfig.LPSID_VAR);widgetData.cdcUser.sendMessage(stringBuilder.join(""));clearInterval(lptagInterval)}},500)}}window._nRepData.eCNFLoaded.dispatch(widgetData.id);if(widgetData.eCnfLoaded){widgetData.eCnfLoaded()}};ISQ.Widget.downloadCnf=function(f,a){var e=null;if(f.preview){e=escape(f.referer)}else{if(f.customValues&&f.customValues.configId){e="!"+f.customValues.configId}}var c=document.getElementsByTagName("head")[0];var b=createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",ISQ.Widget.buildCNFSource(f.serverUrl,f.account,f.type==="float",f.kb,e,f.preview,f.splitTestGroup));b.async=true;b.defer=true;if(a){var d=function(){if(ISQ.Referer.handlerObjects[b.src].pendingLoad===true){return}a()};ISQ.Referer=initializeNS("ISQ.Referer");ISQ.Referer.handlerObjects=ISQ.Referer.handlerObjects||[];ISQ.Referer.handlerObjects[b.src]={callback:a};if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE11){b.onload=d}else{b.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}d();d=null}}}c.appendChild(b);return true};ISQ.Widget.buildCNFSource=function(g,a,b,c,f,e,h){var d=[];if(g){d.push(g)}d.push("/~");d.push(a.toLowerCase());d.push("/widget/scripts/cnf.js?account=");d.push(a);d.push("&key=");d.push(ISQ.Http.Cookies.encode64(ISQ.Http.domain(true,f?f:null)));if(h){d.push("&splittestgroup=");d.push(h)}if(f){d.push("&referer=");d.push(f)}if(b){d.push("&isFloat=true")}if(c){d.push("&kb=");d.push(c)}if(e){d.push("&preview=true")}if(ISQ.Http.browser.isIPhone){d.push("&d=1")}return d.join("")};ISQ.Widget.sendCNFData=function(b,g){var c=ISQ.Widget.CNFStatus[g.id];c.waitingForDownload=true;if(!c.downloaded){return}var a=1800;var d=function(i,h){stringBuilder=[];stringBuilder.push("subject=cnf&data=");stringBuilder.push(i);if(h){stringBuilder.push("&finished=true")}g.cdcUser.sendMessage(stringBuilder.join(""))};var f=ISQ.Data.jsonToString(b);f=ISQ.Http.Cookies.encode64(f);var e=0;if(a<f.length){while(e<f.length){if(e+a>f.length){a=f.length-e
}d(f.substr(e,a));e+=a}d("",true)}else{d(f,true)}if(g.eAfterCnfSent){g.eAfterCnfSent()}};ISQ.Widget.sendingMessagesToWidget=function(a){return ISQ.Widget.supportsPostMessage||a.formValues instanceof Array||typeof(a.context)==="object"||typeof(a.customParams)==="object"};ISQ.Widget.initCDC=function(d,b){if(ISQ.Widget.supportsPostMessage){d.cdcVersion=3}else{if(!d.cdcVersion){d.cdcVersion=0}}var c=ISQ.Widget.sendingMessagesToWidget(d);d.cdcUser=null;switch(d.cdcVersion){case 0:case 1:case 2:if(d.cdcVersion!==0){ISQ.Widget.cdcMessageEvent.addHandler(b,d)}if(c){d.cdcUser=new ISQ.CDC.User({targetWindowName:d.iframe.id,proxyIFrameUrl:d.serverUrl+"/common/cdc/cdc.html",server:d.serverUrl})}break;case 3:var a={allowMessagesFrom:d.serverUrl,widget:d.type};if(c){a.server=d.serverUrl;a.targetWindowName=d.iframe.id;a.proxyIFrameUrl=d.serverUrl+"/common/cdc/cdc.html"}d.cdcUser=new ISQ.CDC.User(a);d.cdcUser.incomingMessageEvent.addHandler(b,d);break}};ISQ.Widget.APIKeyEndDelimiter="<";ISQ.Widget.APIValueEndDelimiter="(";ISQ.Widget.sendAPItoWidget=function(l){var g=ISQ.Widget.sendingMessagesToWidget(l);if(!l.cdcUser||!g){return}var h=[];h.push("subject=api");var d=l.formValues;if((d instanceof Array)&&d.length!==0){h.push("&form=");var f,k,j;for(var e=0;e<d.length;++e){var c=d[e];if(!(c instanceof Array)||c.length<2){continue}if(c.length===2){f=c[0];k=c[1];j=null}else{f=c[1];j=c[0];k=c[2]}if(e!==0){h.push(ISQ.Widget.APIKeyEndDelimiter)}h.push(ISQ.Http.Cookies.encode64(f));h.push(ISQ.Widget.APIValueEndDelimiter);h.push(ISQ.Http.Cookies.encode64(k));if(j){h.push(ISQ.Widget.APIValueEndDelimiter);h.push(ISQ.Http.Cookies.encode64(j))}}}var a=l.context;if(typeof(a)==="object"){h.push("&context=");ISQ.Widget.CDC_appendKeyValueToMessage(a,h)}var b=l.customParams;if(typeof(b)==="object"){h.push("&customparams=");ISQ.Widget.CDC_appendKeyValueToMessage(b,h)}l.cdcUser.sendMessage(h.join(""))};ISQ.Widget.CDC_getKeyValueArrayFromMessage=function(d,c){var b;if(c){b={}}else{b=[]}var h=d.split(ISQ.Widget.APIKeyEndDelimiter);var g,a,f;for(var e=0;
e<h.length;++e){g=h[e].split(ISQ.Widget.APIValueEndDelimiter);a=ISQ.Http.Cookies.decode64(g[0]);f=ISQ.Http.Cookies.decode64(g[1]);b[a]=f}return b};ISQ.Widget.CDC_appendKeyValueToMessage=function(a,d){var b=true;for(var c in a){if(!b){d.push(ISQ.Widget.APIKeyEndDelimiter)}b=false;d.push(ISQ.Http.Cookies.encode64(c));d.push(ISQ.Widget.APIValueEndDelimiter);d.push(ISQ.Http.Cookies.encode64(a[c]))}};ISQ.Widget.fixStealFocus=function(c){if(!c.iframe){return}var b=c.setFocus;if(!b){return}b=ISQ.Html._(b);if(!b){return}var a=function(){try{b.focus()}catch(d){}};if(window.attachEvent){c.iframe.attachEvent("onload",a)}else{if(window.addEventListener){c.iframe.addEventListener("load",a,true)}}};ISQ.Widget.resizeIframeOnLoad_IE=function(c,d,a,b){if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE11){return false}if(ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7){if(document.readyState==="complete"){return false}if(!c.registeredOnload){c.registeredOnload=true;window.attachEvent("onload",function(){b(c,parseInt(d),parseInt(a)+1)})}return true}else{if(document.readyState!=="complete"||window!=window.top){b(c,parseInt(d),parseInt(a)+1);c.cdcUser.sendMessage("subject=refreshSize");return true}else{return false}}};ISQ.Widget.buildNRLinkUrl=function(a,d,g){var f=new Array();f.push("http://widget.nanorep.com/From-Widget/?s=poweredBy&aid=");f.push(a);if(d){f.push("&utm_source=");var e=ISQ.Http.domain(false,d).split(".");var c=f.length;for(var b=e.length-1;b>=0;b--){f.splice(c,0,e[b]);if(e[b].length>3){break}if(b>0){f.splice(c,0,".")}}}f.push("&utm_medium=widget&utm_content=");f.push(g);return f.join("")};ISQ.Widget.getAttachmentUrl=function(c,a){var b=c.indexOf("/");if(b==-1){return}a.push("http://");a.push(c.substring(0,b));a.push(".s3.amazonaws.com/");a.push(c.substring(b+1))};ISQ.Widget.incomingCDCMessageOrginizer=null;ISQ.Widget.incomingCDCMessage=function(f){if(f.charAt(0)==="?"){f=f.substr(1)}var g=ISQ.Tools.stringToPairArray(f,"=","&",true,false);if(!ISQ.Widget.incomingCDCMessageOrginizer){ISQ.Widget.incomingCDCMessageOrginizer=[]
}var a=ISQ.Widget.incomingCDCMessageOrginizer[g.widget];if(!a){a=ISQ.Widget.incomingCDCMessageOrginizer[g.widget]={};a.lastHandledOrdinal=0;a.pendingMessages=null}if(g.subject&&g.subject=="reset"){a.lastHandledOrdinal=0;a.pendingMessages=null}var k=parseInt(g.ord);var b=k-a.lastHandledOrdinal;if(b<=0){return}if(b>1){if(a.pendingMessages===null){a.pendingMessages=[];a.pendingMessagesCount=0}a.pendingMessages[k]=g;++a.pendingMessagesCount}else{try{ISQ.Widget.cdcMessageEvent.dispatch(g)}catch(c){}if(a.pendingMessages!==null){var j=a.pendingMessagesCount;var h=k+1;for(var d=0;d<j;++d,++h){if(!a.pendingMessages[h]){break}ISQ.Widget.cdcMessageEvent.dispatch(a.pendingMessages[h]);k=h;--a.pendingMessagesCount}if(a.pendingMessagesCount===0){a.pendingMessages=null}}a.lastHandledOrdinal=k}};if(!ISQ.Widget.cdcMessageEvent){ISQ.Widget.cdcMessageEvent=new ISQ.Event()}ISQ.Widget.handleCommonCDCMessage=function(messageArgs,widgetData){switch(messageArgs.subject){case"cnf":if(widgetData.id==="float"){ISQ.Widget.sendCNFData(ISQ.Cnf_Float,widgetData)}else{ISQ.Widget.sendCNFData(ISQ.Cnf_Embed,widgetData)}break;case"event":ISQ.Widget.handleEventMessage(messageArgs,widgetData);break;case"pagescript":ISQ.API.runPageScript(messageArgs.data,true);break;case"chatResumeRequest":if(_nRepData.chatInResume){ISQ.Widget.preventChatResuming(widgetData);break}if(!_nRepData.chatInResume){_nRepData.chatInResume=true}ISQ.Widget.aboutToResumeChat(widgetData);break;case"chatEnded":_nRepData.chatInResume=false;break;case"loadChat":case"startCustomChat":var config=eval("("+messageArgs.config+")");switch(config.active){case"LiveChatInc":ISQ.Widget.Proxy.Chat.LiveChatInc.start(messageArgs.subject,config,widgetData);break;case"Zopim":ISQ.Widget.Proxy.Chat.Zopim.start(messageArgs.subject,config,widgetData);break;case"Olark":ISQ.Widget.Proxy.Chat.Olark.start(messageArgs.subject,config,widgetData);break;case"SnapEngage":ISQ.Widget.Proxy.Chat.SnapEngage.start(messageArgs.subject,config,widgetData);break}break}};ISQ.Widget.aboutToResumeChat=function(a){a.cdcUser.sendMessage("subject=chatResumeApproved")
};ISQ.Widget.preventChatResuming=function(a){a.cdcUser.sendMessage("subject=preventChatResuming")};ISQ.Widget.doctype=ISQ.Html.detectDoctype();ISQ.Widget.createMobileBlockerLink=function(f,c,g,d){if(!ISQ.Http.browser.isMobile){return}var b=f.mobileBlockerLink=document.createElement("a");b.className="nR_noRemove";b.style.cssText="display:block;width: "+g+";height:"+f.height+"px;position:relative;left:0px;top:-"+f.height+"px;z-index:1001;background:transparent;";c.appendChild(b);b.href=f.iframe.src;b.target="_blank";b.onclick=function(a){if(f.backImgDiv&&ISQ.Cnf_Float.floatBackImageAsk){this.style.display="none";var h=document.elementFromPoint(a.clientX,a.clientY);while(h!=null&&h!==f.backImgDiv&&h!==document.body){h=h.parentNode}this.style.display="block";if(h==f.backImgDiv&&ISQ.Cnf_Float.floatBackImageAsk&&ISQ.Cnf_Float.floatBackImageAsk>0){var i=this.href;if(!this.hrefLength){this.hrefLength=i.length}if(i.contains("#")){i+="&onloadquestionid="+ISQ.Cnf_Float.floatBackImageAsk}else{i+="#onloadquestionid="+ISQ.Cnf_Float.floatBackImageAsk}this.href=i}else{if(this.hrefLength&&this.href.length!=this.hrefLength){this.href=this.href.substring(0,this.hrefLength)}}}f.cdcUser.sendMessage("subject=mobileOpenNewWindow")};var e=_("ozen");if(f.id==="float"&&e&&e.nodeName==="A"){e.href=f.iframe.src;e.target="_blank";e.onclick=function(a){if(f.backImgDiv&&ISQ.Cnf_Float.floatBackImageAsk){this.style.display="none";var h=document.elementFromPoint(a.clientX,a.clientY);while(h!=null&&h!==f.backImgDiv&&h!==document.body){h=h.parentNode}this.style.display="block";if(h==f.backImgDiv&&ISQ.Cnf_Float.floatBackImageAsk&&ISQ.Cnf_Float.floatBackImageAsk>0){var i=this.href;if(!this.hrefLength){this.hrefLength=i.length}if(i.contains("#")){i+="&onloadquestionid="+ISQ.Cnf_Float.floatBackImageAsk}else{i+="#onloadquestionid="+ISQ.Cnf_Float.floatBackImageAsk}this.href=i}else{if(this.hrefLength&&this.href.length!=this.hrefLength){this.href=this.href.substring(0,this.hrefLength)}}}f.cdcUser.sendMessage("subject=mobileOpenNewWindow")}}};ISQ.Widget.addCssStyles=function(b,a){if(typeof(b)==="string"&&b){if(b.contains(" ")){ISQ.CSS.addNewStyle(b,a)
}else{ISQ.CSS.addNewStyle(ISQ.Tools.Base64.decode(b),a)}}};ISQ.Widget.replacePlaceholders=function(n,l,p,d,e){var m={};m.success=false;m.text=n;if(!n){m.success=true;return m}var a=new Array();var o=0;var f=0;var g=["|",":"];while(o<n.length){o=n.indexOf(p,f);if(o===-1){a.push(n.substring(f));break}a.push(n.substring(f,o));f=n.indexOf(d,o);if(f==-1){a.push(n.substring(o));break}var j=n.substring(o+2,f);f+=2;var k=j.split("|");var c;for(var i=0;i<k.length;++i){j=k[i];if(i==k.length-1){var b=j.indexOf(":");if(b!==-1){c=j.substring(b+1);j=j.substring(0,b)}}if(!l){if(i==k.length-1){h=c}continue}else{var h=l[j];if(h){break}h=c}}if(!h){if(!e){return m}h=""}a.push(h)}m.text=a.join("");m.success=true;return m};ISQ.Widget.combineContext=function(c,d,e){if(!c){return d}if(d){for(var f in d){var g=f.toLowerCase();d[g]=d[f];if(g!==f){delete d[f]}}}var i=null;if(d||e){for(var b in c){if(d&&d[b.toLowerCase()]){continue}for(var a=0;a<c[b].length;++a){var h=null;if(e){h=e[c[b][a]]}if(!h){continue}if(!i){i=[];for(var j in d){i[j]=d[j]}}i[b.toLowerCase()]=h;break}}}return i||d};ISQ.Widget.Mobile={};ISQ.Widget.Mobile.resizeStart=function(){if(!ISQ.Http.browser.isMobile||ISQ.Http.browser.oldAndroid){return}if(!ISQ.Widget.Mobile.resizeInterval){ISQ.Widget.Mobile.resizeInterval=setInterval(ISQ.Widget.Mobile.resizeTimerElapsed,200)}window.addEventListener("orientationchange",ISQ.Widget.Mobile.orientationChanged)};ISQ.Widget.Mobile.resizeStop=function(){if(ISQ.Widget.Mobile.resizeInterval){clearInterval(ISQ.Widget.Mobile.resizeInterval)}ISQ.Widget.Mobile.resizeInterval=null;window.removeEventListener("orientationchange",ISQ.Widget.Mobile.orientationChanged)};ISQ.Widget.Mobile.resizeTimerElapsed=function(){var b=ISQ.Widget.Mobile.sizerDiv;if(!b){b=createDiv(document.body);b.style.cssText="width:0; height:0; position:fixed; bottom:0;right:0;";ISQ.Widget.Mobile.sizerDiv=b}if(b.offsetLeft!=ISQ.Widget.Mobile.oldViewportWidth||ISQ.Widget.Mobile.forceNextAction){if(ISQ.Cnf_Embed){ISQ.Widget.Mobile.forceNextAction=ISQ.Embed.Mobile.resizeAction(b.offsetLeft,b.offsetTop)
}ISQ.Widget.Mobile.oldViewportWidth=b.offsetLeft;var a=ISQ.Cnf_Float||ISQ.Cnf_Embed;if(!a.mobileWidgetEnabled){return}ISQ.Widget.Mobile.forceNextAction|=ISQ.Widget.Mobile.resizeAction(b.offsetLeft,b.offsetTop)}};ISQ.Widget.Mobile.orientationChanged=function(){ISQ.Widget.Mobile.oldViewportWidth=null};ISQ.Widget.Mobile.resizeAction=function(b,a){if(_nRepData["float"]&&!_nRepData["float"].widgetLoaded){return true}if(!ISQ.Widget.Mobile.teaser){ISQ.Widget.Mobile.buildTeaserElement(b,a);ISQ.Widget.Mobile.teaser.scale(b,a);return false}if(ISQ.Widget.Mobile.timer){clearTimeout(ISQ.Widget.Mobile.timer)}ISQ.Widget.Mobile.teaser.style.display="none";ISQ.Widget.Mobile.timer=setTimeout(function(){ISQ.Widget.Mobile.teaser.scale(b,a)},200);return false};ISQ.Widget.Mobile.buildTeaserElement=function(i,h){var j=_nRepData["float"]||_nRepData.embed;var a=ISQ.Cnf_Float||ISQ.Cnf_Embed;var b=_nRepData["float"]&&_nRepData["float"].dockMethod==nanoRep.Float.enumDockMethod.RIGHT;var g=ISQ.Widget.Mobile.teaser=createDiv(document.body,"visibility:hidden; text-align:center; width:100%; bottom:0; z-index:1000; font-family:Arial;");g.style.color=a.titleColor||"#FFF";g.style.backgroundColor=a.titleBGColor||"#009FD4";g.style.position="fixed";if(ISQ.Tools.isLanguageRTL(a.kbLanguageCode)){g.style.direction="rtl"}g.heightRatio_portrait=1/18;g.heightRatio_landscape=1/9;g.fontRatio=0.8;var e=h>i?g.heightRatio_portrait:g.heightRatio_landscape;var d=h*e;var c=Math.floor(d*g.fontRatio)+"px";g.style.height=Math.ceil(d)+"px";g.style.lineHeight=Math.ceil(d)+"px";g.style.fontSize=c;g.style.bottom=-1*Math.ceil(d/3)+"px";var f=createElement("span",g,"text-overflow:nowrap; font-size: inherit; color: inherit;");f.innerHTML=a.titleTeaserText;g.textSpan=f;g.onclick=function(){ISQ.Widget.Mobile.openWidgetInNewWindow(j)};g.widthRatio=d/(f.offsetWidth*1.15);g.leftRatio=1/5;g.paddingRatio=1/9;g.borderRatio=1/5;g.scale=function(p,o){var m=o>p?this.heightRatio_portrait:this.heightRatio_landscape;var l=o*m;var q=l/this.widthRatio;this.style.width=Math.ceil(q)+"px";this.style.height=this.style.lineHeight=Math.ceil(l)+"px";
var n=Math.ceil(l*this.leftRatio)+"px";if(!b){this.style.left=n}else{this.style.right=n}this.style.letterSpacing=q>350?"-2px":q>150?"-1px":"";this.style.fontSize=Math.floor(l*this.fontRatio)+"px";var k=Math.ceil(l*this.borderRatio);this.style.borderRadius=k+"px "+k+"px 0 0";this.style.visibility="visible";this.style.display="block"};nanoRep.Widget.PositionAnimator.setBottom(g,0);nanoRep.Widget.PositionAnimator.start();return g};ISQ.Widget.Mobile.openWidgetInNewWindow=function(a){a.cdcUser.sendMessage("subject=mobileOpenNewWindow");window.open(a.iframe.src)};ISQ.Widget.Mobile.forceNextAction=false;nanoRep.Widget.PositionAnimator={};nanoRep.Widget.PositionAnimator.element=null;nanoRep.Widget.PositionAnimator.side=0;nanoRep.Widget.PositionAnimator.bottom=0;nanoRep.Widget.PositionAnimator.dockRight=false;nanoRep.Widget.PositionAnimator.isRunning=false;nanoRep.Widget.PositionAnimator.timer=null;nanoRep.Widget.PositionAnimator.totalTime=1000;nanoRep.Widget.PositionAnimator.remainingTimeBottom=0;nanoRep.Widget.PositionAnimator.remainingTimeSide=0;nanoRep.Widget.PositionAnimator.factorBottom=0;nanoRep.Widget.PositionAnimator.factorSide=0;nanoRep.Widget.PositionAnimator.interval=20;nanoRep.Widget.PositionAnimator.lastTimerDate=0;nanoRep.Widget.PositionAnimator.stopAnimationInterval=100;nanoRep.Widget.PositionAnimator.setSide=function(b,c,a){nanoRep.Widget.PositionAnimator.element=b;nanoRep.Widget.PositionAnimator.side=c;nanoRep.Widget.PositionAnimator.remainingTimeSide=nanoRep.Widget.PositionAnimator.totalTime-100;nanoRep.Widget.PositionAnimator.factorSide=Math.abs(nanoRep.Widget.PositionAnimator.side-nanoRep.Widget.PositionAnimator.getCurrentSide())/20;nanoRep.Widget.PositionAnimator.dockRight=a};nanoRep.Widget.PositionAnimator.setBottom=function(a,b){if(b==0){b=-1}nanoRep.Widget.PositionAnimator.element=a;nanoRep.Widget.PositionAnimator.bottom=b;nanoRep.Widget.PositionAnimator.remainingTimeBottom=nanoRep.Widget.PositionAnimator.totalTime-100;nanoRep.Widget.PositionAnimator.factorBottom=Math.abs(nanoRep.Widget.PositionAnimator.bottom-nanoRep.Widget.PositionAnimator.getCurrentBottom())/20
};nanoRep.Widget.PositionAnimator.start=function(){if(!nanoRep.Widget.PositionAnimator.side&&!nanoRep.Widget.PositionAnimator.bottom){return}if(nanoRep.Widget.PositionAnimator.isRunning){return}nanoRep.Widget.PositionAnimator.isRunning=true;nanoRep.Widget.PositionAnimator.lastTimerDate=new Date();nanoRep.Widget.PositionAnimator.timer=setTimeout(nanoRep.Widget.PositionAnimator.timerElapsed,0)};nanoRep.Widget.PositionAnimator.getCurrentSide=function(){var a;if(nanoRep.Widget.PositionAnimator.dockRight){a=parseInt(nanoRep.Widget.PositionAnimator.element.style.right)}else{a=parseInt(nanoRep.Widget.PositionAnimator.element.style.left)}if(isNaN(a)){a=0}return a};nanoRep.Widget.PositionAnimator.getCurrentBottom=function(){return parseInt(nanoRep.Widget.PositionAnimator.element.style.bottom)};nanoRep.Widget.PositionAnimator.timerElapsed=function(){var d=new Date()-nanoRep.Widget.PositionAnimator.lastTimerDate;if(d>=nanoRep.Widget.PositionAnimator.stopAnimationInterval){nanoRep.Widget.PositionAnimator.isRunning=false;if(nanoRep.Widget.PositionAnimator.side!==0){if(nanoRep.Widget.PositionAnimator.dockRight){nanoRep.Widget.PositionAnimator.element.style.right=nanoRep.Widget.PositionAnimator.side+"px"}else{nanoRep.Widget.PositionAnimator.element.style.left=nanoRep.Widget.PositionAnimator.side+"px"}}if(nanoRep.Widget.PositionAnimator.bottom!==0){nanoRep.Widget.PositionAnimator.element.style.bottom=nanoRep.Widget.PositionAnimator.bottom+"px"}}var b=nanoRep.Widget.PositionAnimator.getCurrentBottom();var c=nanoRep.Widget.PositionAnimator.getCurrentSide();var a,g;if(nanoRep.Widget.PositionAnimator.side===0){g=0}else{g=nanoRep.Widget.PositionAnimator.side-c}if(nanoRep.Widget.PositionAnimator.bottom===0){a=0}else{a=nanoRep.Widget.PositionAnimator.bottom-b}var f;if(g!==0){g/=Math.abs(g);var e=nanoRep.Widget.PositionAnimator.remainingTimeSide/(nanoRep.Widget.PositionAnimator.totalTime);e*=nanoRep.Widget.PositionAnimator.factorSide;if(e<2){e=2}f=c+(g*e);nanoRep.Widget.PositionAnimator.remainingTimeSide-=nanoRep.Widget.PositionAnimator.interval;
if(g>0&&f>nanoRep.Widget.PositionAnimator.side){f=nanoRep.Widget.PositionAnimator.side}if(g<0&&f<nanoRep.Widget.PositionAnimator.side){f=nanoRep.Widget.PositionAnimator.side}if(nanoRep.Widget.PositionAnimator.dockRight){nanoRep.Widget.PositionAnimator.element.style.right=f+"px"}else{nanoRep.Widget.PositionAnimator.element.style.left=f+"px"}if(f===nanoRep.Widget.PositionAnimator.side){nanoRep.Widget.PositionAnimator.side=0}}else{nanoRep.Widget.PositionAnimator.side=0}if(a!==0){a/=Math.abs(a);var e=nanoRep.Widget.PositionAnimator.remainingTimeBottom/(nanoRep.Widget.PositionAnimator.totalTime);e*=nanoRep.Widget.PositionAnimator.factorBottom;if(e<2){e=2}f=b+(a*e);nanoRep.Widget.PositionAnimator.remainingTimeBottom-=nanoRep.Widget.PositionAnimator.interval;if(a>0&&f>nanoRep.Widget.PositionAnimator.bottom){f=nanoRep.Widget.PositionAnimator.bottom}if(a<0&&f<nanoRep.Widget.PositionAnimator.bottom){f=nanoRep.Widget.PositionAnimator.bottom}nanoRep.Widget.PositionAnimator.element.style.bottom=f+"px";if(f===nanoRep.Widget.PositionAnimator.bottom){nanoRep.Widget.PositionAnimator.bottom=0}}else{nanoRep.Widget.PositionAnimator.bottom=0}if(nanoRep.Widget.PositionAnimator.bottom||nanoRep.Widget.PositionAnimator.side){nanoRep.Widget.PositionAnimator.lastTimerDate=new Date();nanoRep.Widget.PositionAnimator.timer=setTimeout(nanoRep.Widget.PositionAnimator.timerElapsed,nanoRep.Widget.PositionAnimator.interval)}else{nanoRep.Widget.PositionAnimator.isRunning=false}};ISQ.API.init=function(a){ISQ.API.defaultWidgetData=a};ISQ.API.getWidgetData=function(a){var b=null;if(a){b=_nRepData[a]}return b||ISQ.API.defaultWidgetData};ISQ.API.openContactForm=function(a){var b=ISQ.API.getWidgetData(a);if(!b||!b.cdcUser){return}if(b.id=="float"){if(ISQ.Http.browser.isMobile){return}}else{if(ISQ.Http.browser.oldAndroid){return}}b.cdcUser.sendMessage("subject=openContactForm")};ISQ.API.startChat=function(a,b){var d=ISQ.API.getWidgetData(b);if(!d||!d.cdcUser){return}if(d.id=="float"){if(ISQ.Http.browser.isMobile){return}nanoRep.Float.changeState(nanoRep.Float.enumStates.expand)
}else{if(ISQ.Http.browser.oldAndroid){return}}if(d.autoMinimizeTimer){clearTimeout(d.autoMinimizeTimer)}var c="subject=startChat";if(a){c+="&countStatsOnly=true"}d.cdcUser.sendMessage(c)};ISQ.API.customizeWidget=function(a,b){if(typeof(a)!="object"){return}var d=ISQ.API.getWidgetData(b);if(!d||!d.cdcUser){return}var c="subject=customize";if(a.bgcolor){c+="&bgcolor="+a.bgcolor}if(a.title){c+="&title="+a.title}d.cdcUser.sendMessage(c)};ISQ.API.ask=function(b,a){if(!b){b=""}var c=ISQ.API.getWidgetData(a);if(!c||!c.cdcUser){return}c.cdcUser.sendMessage("subject=ask&question="+b)};ISQ.API.askById=function(c,a,d){if(!c){return}var e=ISQ.API.getWidgetData(a);if(!e||!e.cdcUser){return}var b="subject=askById&questionid="+c;if(d){b+="&sender="+d}e.cdcUser.sendMessage(b)};ISQ.API.importCustomParams=function(b){if(b.table){b.customParams=ISQ.API.getCustomParamsFromTable(b)}else{if(b.ul){b.customParams=ISQ.API.getCustomParamsFromUl(b)}}if(!b.customParams){return}var a=function(e){var c=e?window._nRepData[e]:_nRepData;if(!c){return}if(!c.customParams){c.customParams=b.customParams}else{for(var d in b.customParams){if(c.customParams[d]){continue}c.customParams[d]=b.customParams[d]}}};a("");if(b.widget){a(b.widget)}else{a("float");a("embed")}};ISQ.API.getCustomParamsFromTable=function(f){if(!f.table){return}var k=window._(f.table);if(!k){return}var b=[];var p=k.getElementsByTagName("TR");var m,n,c=false,g,h,e;var a=-1;var j="";for(var o=0;o<p.length;++o){j="noText";g=h="";m=[];n=p[o].getElementsByTagName("TH");for(var d=0;d<n.length;++d){m.push(n[d])}n=p[o].getElementsByTagName("TD");for(var d=0;d<n.length;++d){m.push(n[d])}a++;for(var l=0;l<m.length;++l){e=m[l].innerText||m[l].textContent;if(!e){continue}e=e.Trim();j="hasText";if(f.skipRows&&ISQ.Data.indexOfArray(f.skipRows,a)!==-1){j="skip";break}else{if(!g){g=e}else{if(!h){h=e;break}}}}if(j==="noText"){--a;continue}if(j==="skip"){continue}if(!g||!h){continue}b[g]=h}return b};ISQ.API.getCustomParamsFromUl=function(f){if(!f.ul){return}var k=window._(f.ul);if(!k){return}var e=k.getElementsByTagName("LI");
var a=[];var c,g,h="";for(var b=0;b<e.length;++b){g=h="";for(var d=0;d<e[b].children.length;++d){if(e[b].children[d].localName=="small"){g=e[b].children[d].innerHTML.replace(/:/g,"").Trim()}else{if(e[b].children[d].localName=="b"){h=e[b].children[d].innerHTML.Trim()}}}if(!g||!h){return}a[g]=h}return a};ISQ.API.runPageScript=function(script,encoded){if(!script){return}try{if(encoded){eval(ISQ.Tools.Base64.decodeString(script))}else{eval(script)}}catch(e){}};ISQ.Widget.handleEventMessage=function(messageArgs,widgetData){var type=messageArgs.type;var handl,query;var timer=3000;switch(type){case"query":if(!widgetData.events){break}handl=widgetData.events[type];query=ISQ.Tools.Base64.decodeString(messageArgs.data);var isAutoQuestion=messageArgs.isautoquestion=="true";if(handl){if(isAutoQuestion){handl(query,true)}else{this.queryTimer=setTimeout(function(){handl(query,false)},timer)}if(false){if(typeof(lpMTagConfig)==="undefined"){return}if(typeof(lpMTagConfig.pageVar)==="undefined"){lpMTagConfig.pageVar=[]}lpMTagConfig.pageVar[lpMTagConfig.pageVar.length]="nanoRep_question="+query}}var noWaitHandl=widgetData.events.query_noWait;if(noWaitHandl){noWaitHandl(query,isAutoQuestion)}break;case"nodata":if(!widgetData.events){break}handl=widgetData.events.noData;if(handl){handl()}break;case"scriptload":if(!widgetData.events){break}handl=widgetData.events.scriptload;if(handl){handl()}break;case"load":if(messageArgs.integrate_ga==="true"){var events=widgetData.events;if(!events){events=widgetData.events={}}var userActiveFunc=events.userActive;events.userActive=function(){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep User Active")}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep User Active"])}if(userActiveFunc){try{userActiveFunc()}catch(e){console.log(e)}}};var queryFunc=events.query;events.query=function(queryText,isAutoQuestion){if(!isAutoQuestion){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep Query",queryText)}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Query",queryText])
}}if(queryFunc){try{queryFunc(queryText,isAutoQuestion)}catch(e){console.log(e)}}};var incomingSearchResultsFunc=events.incomingSearchResults;events.incomingSearchResults=function(hasResults,isAutoQuestion,query,results){if(hasResults&&!isAutoQuestion){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep Results Shown")}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Results Shown"])}}if(incomingSearchResultsFunc){try{incomingSearchResultsFunc(hasResults,isAutoQuestion,query,results)}catch(e){console.log(e)}}};var escFunc=events.escalation;events.escalation=function(type,queryText){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep Escalation",queryText)}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Escalation",queryText])}if(escFunc){try{escFunc(type,queryText)}catch(e){console.log(e)}}};var likeFunc=events.like;events.like=function(queryText,answer){if(typeof(ga)==="function"){ga("send","event","nanoRep","nanoRep Like",answer)}if(typeof(_gaq)!=="undefined"){_gaq.push(["_trackEvent","nanoRep","nanoRep Like",answer])}if(likeFunc){try{likeFunc(queryText,answer)}catch(e){console.log(e)}}}}if(!widgetData.events){break}handl=widgetData.events[type];if(handl){handl()}break;case"userstartedtyping":if(this.queryTimer){clearTimeout(this.queryTimer)}if(this.incomingSearchResultsTimer){clearTimeout(this.incomingSearchResultsTimer)}break;case"incomingsearchresults":if(!widgetData.events){break}isAutoQuestion=messageArgs.isautoquestion=="true";var hasResults=messageArgs.hasresults==="true";var results=eval("("+ISQ.Tools.Base64.decodeString(messageArgs.results)+")");var query=messageArgs.query?ISQ.Tools.Base64.decodeString(messageArgs.query):null;handl=widgetData.events.incomingSearchResults;if(handl){if(isAutoQuestion){handl(hasResults,true,query,results)}else{this.incomingSearchResultsTimer=setTimeout(function(){handl(hasResults,false,query,results)},timer)}}noWaitHandl=widgetData.events.incomingSearchResults_noWait;if(noWaitHandl){noWaitHandl(hasResults,isAutoQuestion,query,results)
}break;case"escalation":if(!widgetData.events){break}handl=widgetData.events[type];if(!handl){break}query=ISQ.Tools.Base64.decodeString(messageArgs.query);var escType=messageArgs.esctype;handl(escType,query);break;case"like":if(!widgetData.events){break}handl=widgetData.events[type];if(!handl){break}query=ISQ.Tools.Base64.decodeString(messageArgs.query);var answer=ISQ.Tools.Base64.decodeString(messageArgs.answer);handl(query,answer);break;case"useractive":if(!widgetData.events){break}handl=widgetData.events.userActive;if(handl){handl()}break;case"directionchanged":if(!widgetData.events){break}handl=widgetData.events.directionChanged;if(handl){handl(messageArgs.rtl==="true")}break;case"chatavailable":if(!widgetData.events){break}handl=widgetData.events.chatAvailable;if(handl){handl(messageArgs.value==="true")}break}};ISQ.Widget.buildAttachmentUrls_forEvent=function(d){if(!d){return null}var a=[];var c=d.split(",");for(var b=0;b<c.length;++b){if(a.length!=0){a.push(",")}ISQ.Widget.getAttachmentUrl(c[b],a)}return a.join("")};if(typeof(ISQ.Widget.state)==="undefined"){ISQ.Widget.API={};ISQ.Widget.API.customParams=null;ISQ.Widget.API.getCurrentURL=function(){return window.location.href};ISQ.Widget.API.getCustomParams=function(){return _nRepData.customParams||{}};ISQ.Widget.API.openContactForm=function(){ISQ.API.openContactForm()};ISQ.Widget.API.updateContext=function(b,a){};ISQ.Widget.API.reAsk=function(){}}ISQ.Widget.Proxy=initializeNS("ISQ.Widget.Proxy");ISQ.Widget.Proxy.Chat={sendMessage:function(b,a){_it(b,function(c){c.cdcUser.sendMessage("subject=chat&"+a)})}};ISQ.Widget.Proxy.Chat.LiveChatInc={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{LC_API.open_chat_window()}},load:function(c,d){if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage([d],"type=available&data="+this.mAvailable)}else{if(this.mAvailable==="true"){d.mState|=ISQ.Widget.iChat.enumState.available
}else{d.mState&=~ISQ.Widget.iChat.enumState.available}}}else{this.mPendingWidgets.push(d)}return}else{this.mPendingWidgets.push(d)}this.mState=this.enumStates.loaded;var e=document.head.getElementsByTagName("script");for(var a=0;a<e.length;a++){if(e[a].src.indexOf("livechatinc")!=-1){this.mAvailable=LC_API.agents_are_available();if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage([d],"type=available&data="+this.mAvailable)}else{if(this.mAvailable==="true"){d.mState|=ISQ.Widget.iChat.enumState.available}else{d.mState&=~ISQ.Widget.iChat.enumState.available}}this.mState=this.enumStates.availabilityReceived;return}}window.__lc={};window.LC_API={};window.__lc.license=c.LiveChatInc.id;window.LC_API.on_chat_ended=function(){window.LC_API.hide_chat_window()};if(!c.popup.enabled){window.LC_API.on_chat_started=function(f){window.LC_API.open_chat_window()}}var b=this;window.LC_API.on_after_load=function(){if(!window.LC_API.chat_running()||c.popup.enabled){window.LC_API.hide_chat_window()}b.mAvailable=LC_API.agents_are_available();if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}else{if(b.mAvailable==true){d.mState|=ISQ.Widget.iChat.enumState.available}else{d.mState&=~ISQ.Widget.iChat.enumState.available}}b.mState=b.enumStates.availabilityReceived};url=(window.location.protocol==="https:"?"https:":"http:")+"//"+c.LiveChatInc.server+"/tracking.js";ISQ.Tools.appendScript(url)}};ISQ.Widget.Proxy.Chat.Zopim={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{if(b.popup.enabled){$zopim.livechat.window.openPopout()}else{$zopim.livechat.window.show()}}},load:function(c,d){if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage([d],"type=available&data="+this.mAvailable)}else{if(this.mAvailable==true){d.mState|=ISQ.Widget.iChat.enumState.available}else{d.mState&=~ISQ.Widget.iChat.enumState.available
}}}else{this.mPendingWidgets.push(d)}return}else{this.mPendingWidgets.push(d)}this.mState=this.enumStates.loaded;var b=this;var f=function(){if(!$zopim.livechat){return}if(!$zopim.livechat.isChatting()||c.popup.enabled){$zopim.livechat.hideAll()}$zopim.livechat.setOnChatEnd(function(){$zopim.livechat.hideAll()});$zopim.livechat.window.onHide(function(){if(!$zopim.livechat.isChatting()||c.popup.enabled){$zopim.livechat.hideAll()}});var g=function(h){if(h=="online"){b.mAvailable=true}else{b.mAvailable=false}if(d.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}else{if(b.mAvailable==true){d.mState|=ISQ.Widget.iChat.enumState.available}else{d.mState&=~ISQ.Widget.iChat.enumState.available}}b.mState=b.enumStates.availabilityReceived};$zopim.livechat.setOnStatus(g)};var e=document.head.getElementsByTagName("script");for(var a=0;a<e.length;a++){if(e[a].src.indexOf("zopim")!=-1){f();return}}window.$zopim||(function(h,j){var k=$zopim=function(l){k._.push(l)},g=k.s=h.createElement(j),i=h.getElementsByTagName(j)[0];k.set=function(l){k.set._.push(l)};k._=[];k.set._=[];g.async=!0;g.setAttribute("charset","utf-8");g.src=(window.location.protocol==="https:"?"https:":"http:")+c.Zopim.server+"?"+c.Zopim.id;k.t=+new Date;g.type="text/javascript";if(f){if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE11){g.onload=f}else{g.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}f()}}}i.parentNode.insertBefore(g,i)})(document,"script")}};ISQ.Widget.Proxy.Chat.SnapEngage={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{SnapEngage.startLink()}},load:function(c,f){if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(f.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}}else{this.mPendingWidgets.push(f)}return}else{this.mPendingWidgets.push(f)}this.mState=this.enumStates.loaded;
var b=this;var d=function(){if(typeof SnapEngage=="undefined"){return}SnapEngage.hideButton();SnapEngage.getAgentStatusAsync(function(h){if(h){b.mAvailable=true}else{b.mAvailable=false}if(f.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}b.mState=b.enumStates.availabilityReceived});SnapEngage.setCallback("Close",function(i,h){SnapEngage.hideButton()})};var g=document.head.getElementsByTagName("script");for(var a=0;a<g.length;a++){if(g[a].src.indexOf("snapengage")!=-1){d();return}}var e=(window.location.protocol==="https:"?"https:":"http:")+c.SnapEngage.server+c.SnapEngage.id+".js";ISQ.Tools.appendScript(e,d)}};ISQ.Widget.Proxy.Chat.Olark={enumStates:{none:0,loaded:1,availabilityReceived:2},mState:0,mAvailable:false,mPendingWidgets:[],start:function(a,b,c){if(a=="loadChat"){this.load(b,c)}else{olark("api.box.expand")}},load:function(d,e){if(this.mState>=this.enumStates.loaded){if(this.mState>=this.enumStates.availabilityReceived){if(e.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage([e],"type=available&data="+this.mAvailable)}}else{this.mPendingWidgets.push(e)}return}else{this.mPendingWidgets.push(e)}this.mState=this.enumStates.loaded;var b=this;var c=function(){var g=function(h){b.mAvailable=h;if(e.cdcUser){ISQ.Widget.Proxy.Chat.sendMessage(b.mPendingWidgets,"type=available&data="+b.mAvailable)}b.mState=b.enumStates.availabilityReceived};olark.configure("box.start_hidden",true);olark("api.chat.onOperatorsAvailable",function(){g(true)});olark("api.chat.onOperatorsAway",function(){g(false)})};var f=document.head.getElementsByTagName("script");for(var a=0;a<f.length;a++){if(f[a].src.indexOf("olark")!=-1){c();return}}window.olark||(function(g){var i=window,h=document,j=i.location.protocol=="https:"?"https:":"http:",n=g.name,m="load";var k=function(){i[n]=function(){(l.s=l.s||[]).push(arguments)};var l=i[n]._={},p=g.methods.length;while(p--){(function(q){i[n][q]=function(){i[n]("call",q,arguments)}})(g.methods[p])}l.l=g.loader;l.i=k;l.p={0:+new Date};l.P=function(q){l.p[q]=new Date-l.p[0]
};function r(){l.P(m);i[n](m)}i.addEventListener?i.addEventListener(m,r,false):i.attachEvent("on"+m,r);var o=function(){function F(t){t="head";return["<",t,"></",t,"><",z,' onload="var d=',u,";d.getElementsByTagName('head')[0].",A,"(d.",y,"('script')).",B,"='",j,"//",l.l,"'",'"',"></",z,">"].join("")}var z="body",C=h[z];if(!C){return setTimeout(o,100)}l.P(1);var A="appendChild",y="createElement",B="src",D=h[y]("div"),H=D[A](h[y](n)),q=h[y]("iframe"),u="document",s="domain",E;D.style.display="none";C.insertBefore(D,C.firstChild).id=n;q.frameBorder="0";q.id=n+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){q.src="javascript:false"}q.allowTransparency="true";H[A](q);try{q.contentWindow[u].open()}catch(I){g[s]=h[s];E="javascript:var d="+u+".open();d.domain='"+h.domain+"';";q[B]=E+"void(0);"}try{var G=q.contentWindow[u];G.write(F());G.close()}catch(J){q[B]=E+'d.write("'+F().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}l.P(2)};o()};k()})({loader:"static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});olark.identify(d.Olark.id);c()}};
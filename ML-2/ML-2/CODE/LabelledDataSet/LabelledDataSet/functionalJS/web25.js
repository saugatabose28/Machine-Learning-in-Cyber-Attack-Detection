ISQ.Tools=initializeNS("ISQ.Tools");ISQ.Tools.stateEnum={KEY:5,VALUE:6};ISQ.Tools.stringToPairArray=function(h,b,k,i,j){var c=h.length;if(c===0){return null}var f=new Array();i=i!==false;j=j!==false;var g=ISQ.Tools.stateEnum.KEY;var d="";var a=new Array();var e=0;while(e<c){switch(g){case ISQ.Tools.stateEnum.KEY:if(h.charAt(e)!==b){a.push(h.charAt(e))}else{g=ISQ.Tools.stateEnum.VALUE;d=ISQ.Tools.getStringValue(a,i);a=new Array()}break;case ISQ.Tools.stateEnum.VALUE:if(h.charAt(e)!==k){a.push(h.charAt(e))}else{g=ISQ.Tools.stateEnum.KEY;f[d]=ISQ.Tools.getStringValue(a,j);a=new Array()}break}++e}if(g===ISQ.Tools.stateEnum.VALUE){f[d]=ISQ.Tools.getStringValue(a)}return f};ISQ.Tools.getStringValue=function(a,b){b=b===true;var c=unescape(a.join("").toString()).Trim();if(b){c=c.toLowerCase()}return c};ISQ.Tools.getNumber=function(c,a){var d=typeof(c);if(typeof(c)==="number"){return c}if(typeof(c)!=="string"){c=c.toString()}var b;if(c.contains(".")){b=parseFloat(c)}else{b=parseInt(c)}if(isNaN(b)){return typeof(a)==="number"?a:NaN}return b};ISQ.Tools.verifyNumber=function(b){var a=ISQ.Tools.getNumber(b);if(isNaN(a)){throw ("ISQ.Tools.verifyNumber: given value is not a number")}};ISQ.Tools.getEnumValue=function(a,c){if(typeof(a)!=="object"||c===null){return null}for(var b in a){if(a[b]==c){return b}}return null};ISQ.Tools.getOpacityFromRGBA=function(b){if(b==="transparent"){return 0}var a=b.LastIndexOf(",");if(a===-1){throw ("ISQ.Tools.getOpacityFromRGBA(): Invalid string")}if(b.countCharAppearances(",")===2){return 100}b=b.substring(a+1);return parseInt(b)};ISQ.Tools.RGBtoHex=function(c,b,a){return ISQ.Tools.toHex(c)+ISQ.Tools.toHex(b)+ISQ.Tools.toHex(a)};ISQ.Tools.RGBtoHex2=function(a){a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+ISQ.Tools.toHex(a[1])+ISQ.Tools.toHex(a[2])+ISQ.Tools.toHex(a[3])};ISQ.Tools.toHex=function(a){if(typeof(a)==="string"){a=parseInt(a)}if(typeof(a)!=="number"||a===0){return"00"}a=Math.max(0,a);a=Math.min(a,255);a=Math.round(a);return"0123456789ABCDEF".charAt((a-a%16)/16)+"0123456789ABCDEF".charAt(a%16)
};ISQ.Tools.hexToRGB=function(a){var b={r:-1,g:-1,b:-1};a=(a.charAt(0)=="#")?a.substring(1):a;b.r=parseInt(a.substring(0,2),16);b.g=parseInt(a.substring(2,4),16);b.b=parseInt(a.substring(4,6),16);return b};ISQ.Tools.getPrettyNumber=function(k,c,e,g){k=parseFloat(k);if(isNaN(k)){return k}var m="";if(e){if(k>=1073741824){k=k/1073741824;m="GB"}else{if(k>=1048576){k=k/1048576;m="MB"}else{if(k>=1024){k=k/1024;m="KB"}else{m="B"}}}}else{if(g&&k>=1000){k=k/1000;m="K"}}if(isNaN(c)&&c!==true&&c!==false){c=true}switch(c){case false:break;case 0:k=parseInt(k);break;case true:if(Math.abs(k)<10){c=2}else{if(Math.abs(k)<100){c=1}else{c=0}}k=k.toFixed(c);break;default:k=k.toFixed(c);break}if(k%1===0){k=parseInt(k)}var l=k+"";var d=null;var h=l.indexOf(".");if(h!==-1){d=l.substr(h);var n=-1;for(var f=0;f<d.length;++f){if(d.charAt(f)==="0"){if(n==-1){n=f}}else{n=-1}}if(n!=-1){d=d.substr(0,n)}if(d.length===1){d=null}l=l.substr(0,h)}k=parseInt(l);if((k/1000)>=1){var a=new Array(l.length+Math.floor((l.length-1)/3));var j=a.length;var b=0;for(var f=l.length-1;f>-1;--f){if(f<l.length-1&&b%3===0){a[j--]=","}a[j--]=l.charAt(f);++b}}else{a=[];a.push(k)}if(d!==""){a.push(d)}if(m){a.push(m)}return a.join("")};ISQ.Tools.formatPercentage=function(c){var b;var a=Math.abs(c);if(a>1000){b=(c/1000).toFixed(0)+"K "}else{if(a<1){b=c.toFixed(2)}else{if(a<10){b=c.toFixed(1)}else{b=c.toFixed(0)}}}return b+"%"};ISQ.Tools.toArray=function(d){if(d instanceof Array){return d}var b=new Array();if(typeof(d.length)!=="number"){b.push(d)}else{var c;if(d.length===0){for(c in d){b[c]=d[c]}}else{if(d.length>10000){_debug().insertText("Error converting object to an array. Object length: "+d.length);return new Array()}for(c=0;c<d.length;++c){b[c]=d[c]}}}return b};ISQ.Tools.getDateTicks=function(b,d,e,f,j){b=b.Trim();if(b===""){return -1}var c,g,k;var h=d.indexOf("dd");c=b.substr(h,2);if(isNaN(c)){return -1}h=d.indexOf("mm");g=b.substr(h,2);if(isNaN(g)){return -1}h=d.indexOf("yyyy");if(h===-1){h=d.indexOf("yy")}k=b.substr(h,4);if(isNaN(k)){return -1}var i=new Date();
e=typeof(e)=="undefined"?i.getHours():e;f=typeof(f)=="undefined"?i.getMinutes():f;j=typeof(j)=="undefined"?i.getSeconds():j;var a=new Date(k,g-1,c,e,f,j);return Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())};ISQ.Tools.getIPString=function(c){var b=false;if(c<0){c=-c;b=true}var d=new Array();if(b){d.push(256-(c%256))}else{d.push(c%256)}for(var a=2;a>=0;a--){c=Math.floor(c/256);d.push(".");if(b){d.push(255-(c%256))}else{d.push(c%256)}}return d.join("")};ISQ.Tools.getContentTypeByExtension=function(b,c){var a;switch(b){case"bmp":a="image/bmp";break;case"gif":a="image/gif";break;case"jpg":case"jpeg":a="image/jpeg";break;case"png":a="image/png";break;case"tiff":case"tif":a="image/tiff";break;case"pdf":a="application/pdf";break;default:a="";break}if(c){return a}switch(b){case"doc":a="application/msword";break;case"docx":a="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"pdf":a="application/pdf";break;case"ppt":a="application/vnd.ms-powerpoint";break;case"pptx":a="application/vnd.openxmlformats-officedocument.presentationml.presentation";break;case"xlsx":a="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"xls":a="application/vnd.ms-excel";break;case"csv":a="text/csv";break;case"xml":a="text/xml";break;case"txt":a="text/plain";break;case"zip":a="application/zip";break;case"ogg":a="application/ogg";break;case"mp3":a="audio/mpeg";break;case"wma":a="audio/x-ms-wma";break;case"wav":a="audio/x-wav";break;case"wmv":a="audio/x-ms-wmv";break;case"swf":a="application/x-shockwave-flash";break;case"avi":a="video/avi";break;case"mp4":a="video/mp4";break;case"mpg":case"mpeg":a="video/mpeg";break;case"qt":a="video/quicktime";break;default:a=""}return a};ISQ.Tools.extend=function(b,h){h=h||{};b=b===true;var d=arguments.length;var f=null;for(var c=2;c<d;c++){f=arguments[c];if(typeof(f)==="undefined"||f===null){continue}for(var e in f){var g=h[e],a=f[e];if(h===a){continue}if(typeof(a)==="undefined"){continue}if(b&&a!==null&&typeof(a)==="object"&&!a.nodeType){if(typeof(a.isDerivedOf)!=="function"||!a.isDerivedOf(ISQ.Base)){h[e]=ISQ.Tools.extend(true,g||(a.length!=null?[]:{}),a)
}else{h[e]=a}}else{if(a!==undefined){h[e]=a}}}}return h};ISQ.Tools.addArrayToGC=function(b,a){b.add({dispose:function(){for(var c in a){a[c].dispose();a[c]=null}a=null}})};ISQ.Tools.foreach=function(a,b){for(var c in a){var d=null;if(ISQ.Base.isDerivedOf(b,ISQ.Handler)){d=b.handle(a[c],c)}else{d=b(a[c],c)}if(d===false){break}}};window.foreach=ISQ.Tools.foreach;ISQ.Tools.iteration=function(a,c,b){if(!b){for(var d=0;d<a.length;++d){var e=null;if(ISQ.Base.isDerivedOf(c,ISQ.Handler)){e=c.handle(a[d],d)}else{e=c(a[d],d)}if(e===false){break}}}else{for(var d=a.length-1;d>=0;--d){var e=null;if(ISQ.Base.isDerivedOf(c,ISQ.Handler)){e=c.handle(a[d],d)}else{e=c(a[d],d)}if(e===false){break}}}};window.iteration=window._it=ISQ.Tools.iteration;ISQ.Tools.addRemoveClickOutsideElementsListener=function(c,d,a,b){if(!ISQ.Tools.clickOutsideListeners){ISQ.Tools.clickOutsideListeners=new Array()}if(d){if(!c){throw ("ISQ.Tools.addRemoveClickOutsideElementsListener: invalid id")}if(!ISQ.Base.isDerivedOf(b,ISQ.Handler)){throw ("ISQ.Tools.addRemoveClickOutsideElementsListener: invalid handler")}if(!ISQ.Tools.clickOutsideListeners[c]){ISQ.Tools.clickOutsideListeners[c]={}}if(ISQ.Tools.clickOutsideListeners[c].registered){if(document.removeEventListener){document.removeEventListener("click",ISQ.Tools.clickOutsideListeners[c].func,true);if(ISQ.Http.browser.isTablet){document.removeEventListener("touchstart",ISQ.Tools.clickOutsideListeners[c].func,true)}}else{if(document.detachEvent){document.detachEvent("onclick",ISQ.Tools.clickOutsideListeners[c].func)}}}ISQ.Tools.clickOutsideListeners[c].func=function(e){if(ISQ.Tools.clickOutsideListeners[c].ignoreNextClick){ISQ.Tools.clickOutsideListeners[c].ignoreNextClick=false;return}if(ISQ.Tools.clickOutsideElements(e,a)){b.handle(e)}};ISQ.Tools.clickOutsideListeners[c].registered=true;if(document.addEventListener){document.addEventListener("click",ISQ.Tools.clickOutsideListeners[c].func,true);if(ISQ.Http.browser.isTablet){document.addEventListener("touchstart",ISQ.Tools.clickOutsideListeners[c].func,true)
}}else{if(document.attachEvent){document.attachEvent("onclick",ISQ.Tools.clickOutsideListeners[c].func)}}}else{if(ISQ.Tools.clickOutsideListeners[c]&&ISQ.Tools.clickOutsideListeners[c].registered){ISQ.Tools.clickOutsideListeners[c].registered=false;if(document.removeEventListener){document.removeEventListener("click",ISQ.Tools.clickOutsideListeners[c].func,true);if(ISQ.Http.browser.isTablet){document.removeEventListener("touchstart",ISQ.Tools.clickOutsideListeners[c].func,true)}}else{if(document.detachEvent){document.detachEvent("onclick",ISQ.Tools.clickOutsideListeners[c].func)}}}}};ISQ.Tools.fireMouseEvents=function(c,b){if(document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent(b,true,false);c.dispatchEvent(a)}else{if(document.createEventObject){c.fireEvent("on"+b)}}};ISQ.Tools.clickOutsideElements=function(c,b){if(!b||!(b instanceof Array)){return false}var a=ISQ.Html.getDomEvent(c);while(a.target!==document.body&&a.target!==null){for(var d in b){if(a.target==b[d]){return false}}a.target=a.target.parentNode}if(a.target!==document.body&&a.target!==null){return false}return true};ISQ.Tools.ignoreNextClickOutsideElementsEvent=function(a){if(!ISQ.Tools.clickOutsideListeners[a]){return}ISQ.Tools.clickOutsideListeners[a].ignoreNextClick=true};ISQ.Tools.pagerSeperator="<page_separator/>";ISQ.Data=initializeNS("ISQ.Data");ISQ.Data.getEmailAddress=function(e){var a=/[\w-_\&.]+\@[\w-_]+\.+[\w-_.]+/g;var d=e.match(a);if(d===null||d.length===0){return null}var f=new RegExp();f.compile("[~!#$%^&*()=`'\"\\/><?[]{}|]","g");var b=new Array();for(var c=0;c<d.length;++c){if(d[c].search(f)===-1){b.push(d[c])}}return b};ISQ.Data.checkString=function(e,f){var d=true;var c;switch(f){case"email":if(e.contains("..")){return false}if(e.contains(".@")||e.contains("@.")){return false}var a=/^[\w-_\&\+.]+\@([\w-_]+\.){1,}[\w-_]+$/;var g=new RegExp("[~!#$%^&*()=''\"\\/><?[]{}|]","g");return(e.search(g)===-1)&&(e.match(a))&&(e!=="");break;case"number":var b=/^[-]?[0-9]+\.?[0-9]?$/;return b.test(e);break;case"phone":var b=/^\+?[0-9\s(-)-\[\].\ ]*[#x]?[0-9\s]*?$/;
return b.test(e);break;case"username":c=new RegExp(".+@.+");return(c.test(e));break;case"url":c=new RegExp("^https?://([a-zA-Z0-9]+.){1,}[a-zA-Z0-9]+");return(c.test(e));break}return d};ISQ.Data.validateRangeInputs=function(d,g,f,a){var e=d.value.Trim();if(!e){return}var h=g.value.Trim();if(!h){return}var b=ISQ.Tools.getDateTicks(e,a);var c=ISQ.Tools.getDateTicks(h,a);if(b>c){if(f===d){d.value=h}else{g.value=e}}};ISQ.Tools.blinkElement=function(a,d,c,b){if(c){ISQ.CSS.addClass(a,b);d--}else{ISQ.CSS.removeClass(a,b)}if(d){setTimeout(function(){ISQ.Tools.blinkElement(a,d,!c,b)},150)}};ISQ.Tools.toggleBlinkElement=function(a,b,c){if(a.blinkInterval){clearInterval(a.blinkInterval);ISQ.CSS.removeClass(a,b);delete a.blinkInterval;return}a.blinkInterval=setInterval(function(){if(a.blinkOn){a.blinkOn=false;ISQ.CSS.removeClass(a,b)}else{a.blinkOn=true;ISQ.CSS.addClass(a,b)}},c||800)};ISQ.Data.checkTextWidth=function(c,b){var a=ISQ.Html._("ellipsisDiv");if(!a){a=createDiv(null,"position:fixed;white-space:nowrap;top:0px;left:0px;z-index:-5;visibility:hidden");a.id="ellipsisDiv"}else{clearNode(a)}ISQ.Data.copyElementFontStyle(b,a);a.innerHTML=c;document.body.insertBefore(a,document.body.firstChild);return a.offsetWidth};ISQ.Data.copyElementFontStyle=function(b,c){if(!c||!b){return}var a=null;if(ISQ.Http.browser.isIE9&&document.body.style.overflow){a=document.body.style.overflow;document.body.style.overflow="hidden"}c.style.fontSize=ISQ.CSS.getElementStyle(b,"font-size");c.style.fontWeight=ISQ.CSS.getElementStyle(b,"font-weight");c.style.fontFamily=ISQ.CSS.getElementStyle(b,"font-family");c.style.fontStyle=ISQ.CSS.getElementStyle(b,"font-style");c.style.textDecoration=ISQ.CSS.getElementStyle(b,"text-decoration");c.style.color=ISQ.CSS.getElementStyle(b,"color");if(a){document.body.style.overflow=a}};ISQ.Data.autoEllipseText=function(n,p,b,e,c,a){var o;var d=false;a=a||null;if(e){o=e.offsetWidth}else{o=ISQ.Data.checkTextWidth(n,b);e=ISQ.Html._("ellipsisDiv")}var k=n;if(o>p){d=true;e.innerHTML="";var m=0,f=n.length,j;var l=f;do{j=m+Math.floor((f-m)/2);
var h=false;var g;for(g=f;g>0&&(g>j||h);--g){if(n.charAt(g)==">"){h=true}else{if(n.charAt(g)=="<"){h=false}}}j=g;e.innerHTML=n.substr(0,j)+"...";if(e.offsetWidth<p){m=j}else{f=j}if(l==j){break}l=j}while((f-m)>1);if(e.offsetWidth>p||l==j){n=n.substr(0,j-1)+"..."}else{n=e.innerHTML}}else{if(c){return}}if(b){b.innerHTML=n;if(d){b.setAttribute("title",k)}}else{return n}};ISQ.Data.indexOfArray=function(a,c){var b=a.length;while(b--){if(a[b]==c){return b}}return -1};ISQ.Data.inArray=function(a,b){return ISQ.Data.indexOfArray(a,b)!==-1};ISQ.Data.isObjectEmpty=function(b){for(var a in b){return false}return true};ISQ.Data.jsonToString=function(f,g,d){if(!d&&!window.Prototype){try{return JSON.stringify(f)}catch(a){}}if(!g){g=new Array()}if(f instanceof Array){g.push("[");for(var c=0;c<f.length;++c){if(c!==0){g.push(",")}ISQ.Data.jsonToString(f[c],g,true)}g.push("]")}else{if(f===null){g.push("null")}else{if(typeof(f)==="object"){g.push("{");var b=true;for(var c in f){if(!b){g.push(",")}b=false;g.push('"');g.push(c);g.push('"');g.push(":");ISQ.Data.jsonToString(f[c],g,true)}g.push("}")}else{if(typeof(f)==="string"){g.push('"');g.push(f.escaper());g.push('"')}else{g.push(f)}}}}if(!d){return g.join("")}};ISQ.Data.blockCreditCardNumbers=function(h,f){var e=/(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})/g;var k=h.replace(/ /g,"").replace(/-/g,"").replace(/\n/g,"").replace(/\r/g,"").replace(/\./g,"");var m=k;var d=k.match(e);if(!d||d.length==0){return h}for(var a=0;a<d.length;++a){var c=d[a];var g=new Array();for(var b=0;b<c.length;++b){g.push(f)}m=m.replace(c,g.join(""))}var l=0;for(var a=0;a<h.length;++a){if(h.charAt(a)==" "||h.charAt(a)=="-"){continue}if(k.charAt(l)!=m.charAt(l)){h=h.setCharAt(a,f)}l++}return h};ISQ.Data.createLink=function(e,h,f,c,b,g,a){if(!e||!h){return""}if(b&&g){e=ISQ.Data.unHTML(ISQ.Data.breakWords(e))}else{if(b){e=ISQ.Data.breakWords(e)}else{if(g){e=ISQ.Data.unHTML(e)}}}if(a&&!h.startsWith("http://")&&!h.startsWith("https://")){h="http://"+h
}var d=new Array();d.push('<a href="');d.push(h);if(f){d.push('" target="');d.push(f)}if(c){d.push('" class="');d.push(c)}d.push('">');d.push(e);d.push("</a>");return d.join("")};ISQ.Data.parseURL=function(a,b){if(!a){return""}return a.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/,function(c){return ISQ.Data.createLink(c,c,b)})};ISQ.Data.parseTwitterStatus=function(d){if(!d){return""}var c=new ISQ.Data.EntityParser(d);var a=new Array();var b={};while(c.getNextSegment(b)){b.segment=ISQ.Data.parseURL(b.segment,"_blank");b.segment=b.segment.replace(/[@]+[A-Za-z0-9-_]+/g,function(e){var g=e.replace("@","");var f="http://twitter.com/"+g;return ISQ.Data.createLink(e,f,"_blank")});b.segment=b.segment.replace(/[#]+[A-Za-z0-9-_]+/g,function(e){var f=e.replace("#","%23");var g="http://search.twitter.com/search?q="+f;return ISQ.Data.createLink(e,g,"_blank")});a.push(b.segment);a.push(b.entity)}return a.join("")};ISQ.Data.parseArticleContext=function(f,e){result=new Array();var d=0,b=false,c=0,a;while(d<f.length){d=f.indexOf(",",c);if(d===-1){d=f.length}b=!b;if(b){a=f.substring(c,d++)}else{if(!e){result[a]=f.substring(c,d++)}else{result.push(f.substring(c,d++))}}c=d}return result};ISQ.Data.uniqueId=function(){return Math.floor(Math.random()*10000000)};ISQ.Data.nowMili=new Date().getTime();ISQ.Data.dayInMs=24*60*60*1000;ISQ.Tools.fixIE7DropDownInIframe=function(a){var c,b;c=+this.getAttribute("size")||1;b=1;if(a==="click"&&c===1){b=this.options.length}this.setAttribute("size",b)};ISQ.Tools.forceNumericValue=function(a,b){if(b){a.setAttribute("maxLength",b)}$(document).ready(function(){$(a).keydown(function(c){if(c.keyCode==46||c.keyCode==8||c.keyCode==9||c.keyCode==27||(c.keyCode==65&&c.ctrlKey===true)||(c.keyCode>=35&&c.keyCode<=39)){return}else{if(c.shiftKey||(c.keyCode<48||c.keyCode>57)&&(c.keyCode<96||c.keyCode>105)){c.preventDefault()}}})})};ISQ.Tools.postDataUsingFrame=function(a){var e="frm_"+ISQ.Data.uniqueId();var d=ISQ.Html.createIframe(e,e,"display:none;","");document.body.appendChild(d);var b=createDiv(document.body,"display:none");
var c=createElement("form",b);c.target=e;c.action="/KB";c.method="post";var f=createInput("hidden","info",c,escape(a));f.value=unescape(f.value);c.submit();document.body.removeChild(b);setTimeout(function(){try{document.body.removeChild(d)}catch(g){}},30000)};ISQ.Data.ADDRESS_DELIMITER=String.fromCharCode(187);ISQ.Data.MailAddress=function(a,b){this.address=a||null;this.displayName=b||null;this.isValid=this.validate()};ISQ.Data.MailAddress.prototype.validate=function(){if(!this.address){return false}return ISQ.Data.checkString(this.address,"email")};ISQ.Data.MailAddress.prototype.asString=function(){var a=new Array();if(this.displayName){if(this.displayName.indexOf('"')==-1){a.push('"');a.push(this.displayName.replace(/\"/g,'\\"'));a.push('"')}if(this.address.indexOf("<")==-1){a.push("<");a.push(this.address);a.push(">")}a.push(" ")}else{a.push(this.address)}return a.join("")};ISQ.Data.parseEmailAddress=function(h){if(!h){return null}var d={none:0,address:1,name:2,nameQuotes:3};var b,c;var e=new Array();var a=function(){if(b==null){if(c!=null){e.push(new ISQ.Data.MailAddress(c.Trim()))}else{throw ("ISQ.Data.parseEmailAddress: Error parsing input string: "+h)}}else{if(c==null){e.push(new ISQ.Data.MailAddress(b))}else{e.push(new ISQ.Data.MailAddress(b,c))}}b=null;c=null};var i=d.none;var g=0,f=0;for(f=0;f<h.length;++f){switch(i){case d.none:if(/\s/.test(h[f])){continue}else{switch(h[f]){case"<":i=d.address;g=f+1;break;case'"':i=d.nameQuotes;g=f+1;break;case";":case",":a();i=d.none;break;default:i=d.name;g=f;break}}break;case d.address:if(h[f]==">"){b=h.substring(g,f);i=d.none}break;case d.name:switch(h[f]){case"<":c=h.substring(g,f);i=d.address;g=f+1;break;case";":case",":c=h.substring(g,f);a();i=d.none;break}break;case d.nameQuotes:switch(h[f]){case"\\":if(h.length>f+1){++f}break;case'"':c=h.substring(g,f);i=d.none;break}break}}switch(i){case d.address:b=h.substring(g,f);break;case d.name:if(h[f-1]=='"'||h[f-1]==">"){c=h.substring(g,f-1)}else{c=h.substring(g,f)}break}a();i=d.none;return e};ISQ.Data.createDelimitedEmailAddressList=function(h){var g=new Array();
var b=new Array();var d=new Array();try{d=ISQ.Data.parseEmailAddress(h)||new Array()}catch(a){b.push(h)}for(var c=0;c<d.length;c++){var f=d[c];if(!f.address||!f.isValid){b.push(f);continue}if(g.length>0){g.push(ISQ.Data.ADDRESS_DELIMITER)}g.push(f.asString())}return{list:g.join(""),errors:b}};ISQ.Data.htmlEncode=function(b){var a=createElement("div");a.innerHTML=b;if(typeof(a.innerText)!=="undefined"){return a.innerText.Trim()}else{if(typeof(a.textContent)!=="undefined"){return a.textContent.Trim()}}return a.innerHTML.Trim()};ISQ.Data.htmlDecode=function(b){var a=createElement("div");a.innerHTML=b;return a.innerHTML.Trim()};ISQ.Data.getTextFromHtml=function(b){var a=createElement("div");a.innerHTML=b;return($(a).text()).Trim()};ISQ.Data.stripHtml=function(b,e,c){var h=0,g=-1,d=0;var a=new Array();var f;e=e||"";h=b.indexOf("<"+e,h);while(h>-1){a.push(b.substr(d,h-d));g=b.indexOf(">",h);d=h+1;if(g!=-1){f=b.substr(h+1,g-h-1).toLowerCase();if(f.startsWith("br")||f.startsWith("p")){if(c){a.push("<br/>")}else{a.push("\n ")}}d=g+1}else{a.push("<")}h=b.indexOf("<",d)}if(d!=b.length){a.push(b.substr(d,b.length-d))}return a.join("")};ISQ.Data.unHTML=function(a){if(!a){return""}a=a.replace(/\</g,"&lt;");a=a.replace(/\>/g,"&gt;");a=a.replace(/&lt;wbr\/&gt;/g,"<wbr/>");return a};ISQ.Data.toHTML=function(a){if(!a){return""}a=a.replace(/&lt;/g,"<");a=a.replace(/&gt;/g,">");return a};ISQ.Data.escapeJS=function(a){if(!a){return""}a=a.replace(/\'/g,"\\'");return a};ISQ.Data.processHTMLstring=function(E,r){r=r||{};var s={text:"",script:""};if(!E){return s}var x=E.indexOf("<");if(x===-1){if(r.decodeEntities){E=ISQ.Data.htmlEncode(E)}if(r.wordBreak){s.text=ISQ.Data.breakWords(E)}else{s.text=E}return s}var f=-1;var n=0;var o=-1;var u=new Array();var t=null;var C;do{if(n!==x){C=E.substring(n,x);if(r.decodeEntities){C=ISQ.Data.htmlEncode(C)}if(r.wordBreak){ISQ.Data.breakWords(C,u,true)}else{u.push(C)}}o=x;f=E.indexOf(">",x+1);if(f===-1){break}var m="";var z=E.charAt(x+1);if(E.charAt(x+2)===" "&&(z==="A"||z==="a")){f=E.indexOf("</a>",x);if(f===-1){f=E.indexOf("</A>",x);
if(f===-1){break}}f+=4;var y=E.substring(x,f);var B=createDiv(null);B.innerHTML=y;var k=B.firstChild;if(B.parentNode!=null){B.parentNode.removeChild(B)}B=null;if(k.nodeName!=="A"){break}var c=k.getAttribute("nanoreplinkid");if(c&&r.questionTagFunction){r.questionTagFunction(u,c,k.innerHTML,y,r.questionTagCustomParams||null)}else{var j=k.getAttribute("href");if(j&&j!="javascript:void(0)"&&j.charAt(0)!="#"&&r.allowLinksInSameWindow!==true){var a;if(r.url&&!j.startsWith("\\")&&((a=j.indexOf(":/"))===-1)&&((a=j.indexOf(":\\"))===-1)&&!j.startsWith("mailto:")){if(j.startsWith("/")){var w=0;if(r.url.startsWith("https://")){w+=8}else{if(r.url.startsWith("http://")){w+=7}else{throw"ISQ.Data.processHTMLstring: invalid options.url"}}var e=r.url.substring(0,r.url.indexOf("/",w));j=e+j}else{var p=r.url.indexOf("?");var q=r.url.indexOf("#");var g;if(p===-1){if(q===-1){g=r.url.length-1}else{g=q}}else{if(q===-1){g=p}else{g=Math.min(p,q)}}var F=r.url.substring(0,r.url.LastIndexOf("/",g)+1);j=F+j}k.setAttribute("href",j)}var b=k.getAttribute("target");switch(b){case"blank":case"top":case"_blank":case"_top":case"_parent":case"parent":break;default:k.setAttribute("target","_blank");break}}else{if(j&&j.charAt(0)=="#"&&r.namedAnchorFunction){k.setAttribute("onclick","return "+r.namedAnchorFunction+"(this.hash)")}}m=elementToString(k,ISQ.Data.processHTMLstring(k.innerHTML,r).text)}}else{if(E.equals("table ",x+1)||E.equals("table>",x+1)){f=E.indexOf("</table>",x);if(f===-1){f=E.indexOf("</TABLE>",x);if(f===-1){break}}f+=8;var y=E.substring(x,f);var B=createDiv(null);B.innerHTML=y;var l=B.firstChild;if(B.parentNode!=null){B.parentNode.removeChild(B)}B=null;if(l.nodeName!=="TABLE"){break}for(var v in l.rows){var D=l.rows[v];for(var A in D.childNodes){var d=D.cells.length;if(D.childNodes[A].nodeName!="TD"){continue}D.childNodes[A].setAttribute("width",100/d+"%");D.childNodes[A].style.width=100/d+"%"}}var G=l.getAttribute("width");l.setAttribute("width","100%");l.style.width="100%";l.style.tableLayout="fixed";m=elementToString(l,ISQ.Data.processHTMLstring(l.innerHTML,r).text)
}else{if(E.equals("script ",x+1)||E.equals("script>",x+1)&&r.doNotProcessScriptTag!==true){var i=E.indexOf(">",x+6);if(i===-1){break}var h=E.indexOf("</",i);if(h===-1){break}if(t===null){t=new Array()}t.push(E.substring(i+1,h));t.push(";");f=E.indexOf(">",h+2);if(f===-1){break}++f}else{m=E.substring(x,++f)}}}u.push(m);n=f;x=E.indexOf("<",n)}while(x!==-1);if(f===-1){C=E.substring(o);if(r.decodeEntities){C=ISQ.Data.htmlEncode(C)}if(r.wordBreak){ISQ.Data.breakWords(C,u,true)}else{u.push(C)}}else{C=E.substring(n);if(r.decodeEntities){C=ISQ.Data.htmlEncode(C)}if(r.wordBreak){ISQ.Data.breakWords(C,u,true)}else{u.push(C)}}s.text=u.join("");if(t){s.script=t.join("")}return s};ISQ.Data.getDBAnswerAsHtml=function(h,g,d,c,b,f){try{return ISQ.Data.processHTMLstring(h,{wordBreak:g!==true,questionTagFunction:d,questionTagCustomParams:c,namedAnchorFunction:b,decodeEntities:false,url:f})}catch(a){if(typeof(_debug)==="function"){_debug().insertText("ISQ.Data.getDBAnswerAsHtml exception: "+h)}return{text:"",error:a}}};ISQ.Data.breakWords=function(e,d,f){if(!e){if(d){return}return""}var c=new ISQ.Data.EntityParser(e);var b={};var a;if(d){a=d}else{a=new Array()}while(c.getNextSegment(b)){ISQ.Data.breakWords_internal(b.segment,a,f);if(b.entity){a.push(b.entity)}}c.dispose();if(d){return}return a.join("")};ISQ.Data.breakWords_internal=function(f,e,g){if(!f||!e){return}var h="<wbr/>";if(ISQ.Http.browser.full.startsWith("safari3")||ISQ.Http.browser.isOpera||ISQ.Http.browser.isIE8||ISQ.Http.browser.isIE9||ISQ.Http.browser.isIE10){h="&#8203;"}if(g&&ISQ.Http.browser.isIE8){h="&shy;"}var c=f.length;var j=0;var d=-1;var a=false;var b=0;for(b=0;b<c;++b){if(f.charAt(b)===" "){j=0}else{if(j>=20&&j%2===0){e.push(f.substring(d+1,b+1));d=b;e.push(h);++j}else{++j}}}e.push(f.substring(d+1))};ISQ.Data.getTextDirAlign=function(f){if(typeof(f)!=="string"){throw ("getTextDirAlign: no txt")}var d={align:"left",dir:"ltr",alignOpp:"right"};var c=0;var e=0;for(var b=0;b<f.length;++b){var a=f.charCodeAt(b);if(a>=48&&a<=57){continue}if(a>=1456&&a<=1524){++e}else{++c
}}if(e>=c){d.align="right";d.dir="rtl";d.alignOpp="left"}return d};ISQ.Data.getURLencodedString=function(a){if(!a){return""}return escape(ISQ.Tools.Base64._utf8_encode(a))};ISQ.Data.getURLdecodedString=function(a){if(!a){return""}return ISQ.Tools.Base64._utf8_decode(unescape(a))};ISQ.Data.EntityParser=ISQ.Base.extend({name:"ISQ.Data.EntityParser"});ISQ.Data.EntityParser.prototype.ctor=function(a){if(!a){throw ("ISQ.Data.EntityParser: no txt")}this.mOriginalText=a;this.mIndex=0};ISQ.Data.EntityParser.prototype.dtor=function(){};ISQ.Data.EntityParser.prototype.getNextSegment=function(c){if(this.mIndex==this.mOriginalText.length){return false}var b=this.mOriginalText.indexOf("&",this.mIndex);var a=this.mOriginalText.indexOf(";",b);if(b===-1||a===-1||a-b>8){c.entity=null;c.segment=this.mOriginalText.substring(this.mIndex);this.mIndex=this.mOriginalText.length}else{if(b!==-1){c.entity=this.mOriginalText.substring(b,++a);var d=this.mOriginalText.substring(this.mIndex,b);c.segment=d;this.mIndex=a}}return true};ISQ.Data.EntityParser.prototype.mOriginalText;ISQ.Data.EntityParser.prototype.mLastEntityFound=null;ISQ.Data.EntityParser.prototype.mAlteredText;ISQ.Data.EntityParser.prototype.mIndex=0;ISQ.Data.EntityParser.prototype.mNextIndex=-1;ISQ.Data.decodeEntities=function(b){if(typeof(jQuery)==="function"){return $("<div/>").html(b).text()}try{if(!ISQ.Data.entityDecoderElement){ISQ.Data.entityDecoderElement=createElement("textarea",document.body,"display:none;visibility:hidden;position:absolute;top:100px;left:13px;")}ISQ.Data.entityDecoderElement.innerHTML=ISQ.Data.unHTML(b);return ISQ.Data.entityDecoderElement.value}catch(a){return b}};ISQ.Data.Xml=initializeNS("ISQ.Data.Xml");ISQ.Data.Xml.toXML=function(c){var d=null;if(ISQ.Http.browser.app==="ie"){try{d=new ActiveXObject("Microsoft.XMLDOM");d.async="false";d.loadXML(c)}catch(a){d=null}}if(d==null){try{var b=new DOMParser();d=b.parseFromString(c,"text/xml");b=null}catch(a){d=null}}return d};ISQ.Data.Xml.getChildsByName=function(e,c){if(!e){return null}var b=e.childNodes.length;
var d=null;for(var a=0;a<b;++a){if(e.childNodes[a].nodeName===c){if(d===null){d=new Array()}d.push(e.childNodes[a])}}return d};ISQ.Data.Xml.downloadXML=function(c,a){c=c||null;a=a||null;if(!c||typeof(a)!=="function"){return}var b=null;if(ISQ.Http.browser.app==="ie"&&!ISQ.Http.browser.isIE11){b=new ActiveXObject("Microsoft.XMLDOM");b.async=true;b.onreadystatechange=function(){if(b.readyState===4){a(b)}};b.load(c)}else{b=new XMLHttpRequest();if(ISQ.Http.browser.app==="ff"&&(ISQ.Http.browser.version==="3"||ISQ.Http.browser.version==="3.6")){b.onload=function(){var e=b.responseText;var d=new DOMParser();var f=d.parseFromString(e,"text/xml");a(f)}}else{b.onreadystatechange=function(){if(b.readyState===4){var e=b.responseText;var d=new DOMParser();var f=d.parseFromString(e,"text/xml");a(f)}}}b.open("GET",c,true);b.send(null)}};ISQ.Data.Xml.getFirstElementByName=function(e,c){if(!e){return null}if(e.nodeName===c){return e}var a=e.childNodes;if(a.length===0){return null}for(var b=0;b<a.length;++b){var d=ISQ.Data.Xml.getFirstElementByName(a[b],c);if(d!==null){return d}}return null};ISQ.Tools.FileLoader=initializeNS("ISQ.Tools.FileLoader");ISQ.Tools.FileLoader.ajaxPool=null;ISQ.Tools.FileLoader.getAjaxPool=function(){if(ISQ.Tools.FileLoader.ajaxPool===null){var a=(ISQ.Http.browser.isIE6||ISQ.Http.browser.isIE7)?1:2;ISQ.Tools.FileLoader.ajaxPool=new Ajax.Pool("/kb",a,Ajax.methodEnum.GET,Ajax.typeEnum.ASYNC,10000);ISQ.Tools.FileLoader.ajaxPool.incomingResponseEvent.addHandler(ISQ.Tools.FileLoader.loadResponse);if(typeof("sessionGC")==="function"){sessionGC().add(ISQ.Tools.FileLoader.ajaxPool)}}return ISQ.Tools.FileLoader.ajaxPool};ISQ.Tools.FileLoader.load=function(e,b,f){if(b&&!ISQ.Base.isDerivedOf(b,ISQ.Handler)){b=new ISQ.Handler(b)}var d=e.indexOf("?");var c;if(d===-1){c=e}else{c=e.substr(0,d)}var a=ISQ.Tools.FileLoader.getAjaxPool();a.add(null,e,new Ajax.Token({callback:b,tag:f}))};ISQ.Tools.FileLoader.loadResponse=function(response){try{if(response.request.mUrl.endsWith(".css")){ISQ.CSS.addNewStyle(response.text)}else{if(response.request.mUrl.endsWith(".js")){eval(response.text)
}}}catch(ex){_debug().insertText("ISQ.Tools.FileLoader.loadResponse: Error loading file ( "+response.request.mUrl+").\n"+ex)}if(!response.token||!response.token.callback){return}var tag=response.token.tag;response.token.callback.handle(tag,response);response.token.callback.dispose();response.token.callback=null};ISQ.Tools.appendScript=function(c,a){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.defer=true;if(c instanceof Array){c=c.join("")}if(a){if(ISQ.Http.browser.app!=="ie"||ISQ.Http.browser.isIE11){b.onload=a}else{b.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}a()}}}b.src=c;document.getElementsByTagName("head")[0].appendChild(b)};ISQ.Tools.Time=initializeNS("ISQ.Tools.Time");ISQ.Tools.Time.ticksDiff=62135596800000;ISQ.Tools.Time.toClientTicks=function(a){return a-ISQ.Tools.Time.ticksDiff};ISQ.Tools.Time.toServerTicks=function(a){if(a===-1){return a}return a+ISQ.Tools.Time.ticksDiff};ISQ.Tools.Time.secondsInTime=function(c,a,d){var b={};c=parseInt(c);d=d||86400;b.days=parseInt(c/d);if(a){b.days=ISQ.Tools.getPrettyNumber(b.days,0)}c=c%d;b.hours=parseInt(c/3600);c=c%3600;b.minutes=parseInt(c/60);b.seconds=c%60;return b};ISQ.Tools.Time.stringToSpan=function(h){if(!h.contains(":")){throw ("ISQ.Tools.Time.stringToSpan: Incorrect string format")}var g=h.split(":");if(g.length>4){throw ("ISQ.Tools.Time.stringToSpan: Incorrect string format")}var b=0,c=0,e=0,f=0;for(var d=0;d<g.length;++d){if(g[d].startsWith("0")){var a=0;while(g[d].charAt(a)==="0"){++a}if(a!==g[d].length){g[d]=g[d].substring(a)}}}if(g.length==4){b=parseInt(g[0]);c=parseInt(g[1]);e=parseInt(g[2]);f=parseInt(g[3])}if(g.length==3){c=parseInt(g[0]);e=parseInt(g[1]);f=parseInt(g[2])}if(g.length==2){c=parseInt(g[0]);e=parseInt(g[1])}return{days:b,hours:c,minutes:e,seconds:f}};ISQ.Tools.Time.drawSLATime=function(c,b){var d=new Array();var a=false;ISQ.Tools.Time.appendTimeToStringBuilder(c,d);if(d.length===0){d.push(" N/A ")}b.innerHTML=d.join("")};ISQ.Tools.Time.appendTimeToStringBuilder=function(e,d,a){a=a!==false;
var b=d.length;var c=false;if(e.days>0){d.push(e.days);d.push("d");a=false}if(e.hours!=0||e.days>0){if(d.length!==b){d.push(" ")}d.push(e.hours);d.push("h");a=false;c=true}if(e.days===0&&(e.minutes>0||c)){if(d.length!==b){d.push(" ")}d.push(e.minutes);d.push("m")}if((a&&e.seconds>0)||d.length===b){if(d.length!==b){d.push(" ")}d.push(e.seconds);d.push("s")}};ISQ.Tools.Time.elapsedTimeTicker=function(){var a={build:function(b){this.startTime=b.startTime;this.endTime=b.endTime;this.parent=b.parent;this.interval=null;this.timerElapsed();if(b.start){this.start()}return this},start:function(){var b=this;this.interval=setInterval(function(){b.timerElapsed.apply(b)},1000)},stop:function(){clearInterval(this.interval);this.interval=null},running:function(){return this.interval!=null},timerElapsed:function(){var c=this.endTime||new Date();if(c<this.startTime){this.startTime=c}var b=new Date(c-this.startTime);this.parent.innerHTML=b.ToString("%H:%M:%S",null,true)}};return a};ISQ.Tools.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(j){var k="";var a,b,c,d,e,f,g;var h=0;while(h<j.length){a=j.charCodeAt(h++);b=j.charCodeAt(h++);c=j.charCodeAt(h++);d=a>>2;e=((a&3)<<4)|(b>>4);f=((b&15)<<2)|(c>>6);g=c&63;if(isNaN(b)){f=g=64}else{if(isNaN(c)){g=64}}k=k+this._keyStr.charAt(d)+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)}return k},decode:function(j){var k="";var a,b,c;var d,e,f,g;var h=0;j=j.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<j.length){d=this._keyStr.indexOf(j.charAt(h++));e=this._keyStr.indexOf(j.charAt(h++));f=this._keyStr.indexOf(j.charAt(h++));g=this._keyStr.indexOf(j.charAt(h++));a=(d<<2)|(e>>4);b=((e&15)<<4)|(f>>2);c=((f&3)<<6)|g;k=k+String.fromCharCode(a);if(f!=64){k=k+String.fromCharCode(b)}if(g!=64){k=k+String.fromCharCode(c)}}return k},_utf8_encode:function(d){d=d.replace(/\r\n/g,"\n");var e="";for(var b=0;b<d.length;b++){var a=d.charCodeAt(b);if(a<128){e+=String.fromCharCode(a)}else{if((a>127)&&(a<2048)){e+=String.fromCharCode((a>>6)|192);e+=String.fromCharCode((a&63)|128)
}else{e+=String.fromCharCode((a>>12)|224);e+=String.fromCharCode(((a>>6)&63)|128);e+=String.fromCharCode((a&63)|128)}}}return e},_utf8_decode:function(e){var d="";var b=0;var a=c1=c2=0;while(b<e.length){a=e.charCodeAt(b);if(a<128){d+=String.fromCharCode(a);b++}else{if((a>191)&&(a<224)){c2=e.charCodeAt(b+1);d+=String.fromCharCode(((a&31)<<6)|(c2&63));b+=2}else{c2=e.charCodeAt(b+1);c3=e.charCodeAt(b+2);d+=String.fromCharCode(((a&15)<<12)|((c2&63)<<6)|(c3&63));b+=3}}}return d},encodeString:function(d){if(!d){return""}var a=false;for(var b=0;b<d.length&&!a;++b){if(d.charCodeAt(b)>127){a=true}}var c;if(a){d=ISQ.Tools.Base64._utf8_encode(d)}return ISQ.Tools.Base64.encode(d)},decodeString:function(a){var d=ISQ.Tools.Base64.decode(a);var b=false;for(var c=0;c<d.length&&!b;++c){if(d.charCodeAt(c)>127){b=true}}if(b){d=ISQ.Tools.Base64._utf8_decode(d)}return d}};ISQ.Tools.BigUInt256=null;ISQ.Tools.ConvertFromByteArray=function(b,j,d){if(ISQ.Tools.BigUInt256===null){ISQ.Tools.BigUInt256=new ISQ.Tools.BigUInt("256")}var e;var a;switch(j){case"Int64":e=d+8;break;case"Int32":e=d+4;break;default:throw ("ISQ.Tools.ConvertFromByteArray: invalid type");break}if(b.length<e){throw ("ISQ.Tools.ConvertFromByteArray: invalid offset")}var a=new ISQ.Tools.BigUInt("0");for(var c=e-1;c>=d;--c){var f=a.multiply(ISQ.Tools.BigUInt256);a=f;var h=new ISQ.Tools.BigUInt(b.charCodeAt(c));f=a.add(h);a=f}var g=a.toString();return g};ISQ.Tools.ConvertToByteArray=function(g,h){if(ISQ.Tools.BigUInt256===null){ISQ.Tools.BigUInt256=new ISQ.Tools.BigUInt("256")}var b="";var a;var d=0;switch(h){case"Int64":d=8;break;case"Int32":d=4;break;default:throw ("ISQ.Tools.ConvertFromByteArray: invalid type");break}var a=new ISQ.Tools.BigUInt(g);for(var c=0;c<d;++c){var e={};var f=a.divide(ISQ.Tools.BigUInt256,e);a=f;b=b+String.fromCharCode(e.value.toString())}return b};ISQ.Tools.getHex=function(g){var a=new ISQ.Tools.BigUInt(16);var c=new ISQ.Tools.BigUInt(g);var f=new Array();var e={value:null};var b=0;while(true&&++b<=100){c=c.divide(a,e);var d=e.value.toString();switch(d){case"":f.push("0");
break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f.push(d);break;case"10":f.push("A");break;case"11":f.push("B");break;case"12":f.push("C");break;case"13":f.push("D");break;case"14":f.push("E");break;case"15":f.push("F");break}var d=c.toString();if(!d||d==="0"){break}}f.reverse();return f.join("")};ISQ.Tools.compareArrays_flat=function(a,b,d){if(a===b){return true}if(!a&&!b){return true}if(!a||!b){return false}if(a.length!==b.length){return false}for(var c=0;c<a.length;++c){if(a[c]!==b[c]){return false}}return true};ISQ.Tools.compareArrays=function(a,b,f){if(a===b){return true}if(!a&&!b){return true}if(!a||!b){return false}if(a.length!==b.length){return false}for(var d in a){var g=a[d];var c=false;for(var e in b){if(b[e]===g){c=true;break}}if(!c){return false}}if(f){return true}return ISQ.Tools.compareArrays(b,a,true)};ISQ.Tools.reverseArray=function(a){var d=a.length;for(var b=0;b<a.length;++b){var e=0;for(var c=1;c<d;++c){var f=a[e];a[e]=a[c];a[c]=f;++e}--d}};ISQ.Tools.disposeArray=function(a){if(!a){return}for(var b=0;b<a.length;++b){if(!a[b]){continue}if(a[b] instanceof Array){ISQ.Tools.disposeArray(a[b]);continue}if(typeof(a[b].dispose)==="function"){a[b].dispose()}a[b]=null;delete a[b]}};ISQ.Tools.isInCSVList=function(c,b){if(typeof(c)!=="string"||typeof(b)!=="string"){return false}if(!c||!b){return false}b=b.Trim();c=c.Trim();var a=c.indexOf(b);if(a==-1){return false}if(a>0&&c[a-1]!=","){return false}if(a+b.length<c.length&&c[a+b.length]!=","){return false}return true};ISQ.Tools.Languages={ar:"Arabic",bg:"Bulgarian",cs:"Czech",da:"Danish",de:"German",el:"Greek, Modern",en:"English",es:"Spanish",et:"Estonian",fi:"Finnish",fr:"French",hi:"Hindi",hu:"Hungarian",id:"Indonesian",it:"Italian",iw:"Hebrew",ja:"Japanese",ko:"Korean",lt:"Lithuanian",lv:"Latvian",nl:"Dutch",no:"Norwegian",pl:"Polish",pt:"Portuguese",ro:"Romanian, Moldavian, Moldovan",ru:"Russian",sk:"Slovak",sl:"Slovene",sv:"Swedish",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",yi:"Yiddish",zh:"Chinese"};ISQ.Tools.LanguageSynonym={"zh-CHS":"Chinese","zh-CHT":"Chinese","zh-CN":"Chinese",he:"Hebrew"};
ISQ.Tools.UniformLanguageCode={he:"iw","zh-CHS":"zh","zh-CHT":"zh","zh-CN":"zh"};ISQ.Tools.CountryNames={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};
ISQ.Tools.getUniformLanguageCode=function(a){if(!a){return null}var b=ISQ.Tools.UniformLanguageCode[a];if(b){return b}return a};ISQ.Tools.getLanguageName=function(b){var a=ISQ.Tools.Languages[b];if(!a){a=ISQ.Tools.LanguageSynonym[b]}if(!a){return null}return a};ISQ.Tools.isLanguageRTL=function(a){a=ISQ.Tools.getUniformLanguageCode(a);switch(a){case"iw":case"ar":case"yi":case"ur":return true}return false};ISQ.Tools.HTML=initializeNS("ISQ.Tools.HTML");ISQ.Tools.HTML.openPopup=function(g,c,h,a,e){var b=(screen.width/2)-(h/2);var f=(screen.height/2)-(a/2);var d=e||"no";return window.open(g,c,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars="+d+", resizable=no, copyhistory=no, width="+h+", height="+a+", top="+f+", left="+b)};ISQ.Tools.Storage=initializeNS("ISQ.Tools.Storage");ISQ.Tools.Storage.HTML5=false;try{ISQ.Tools.Storage.HTML5=window.localStorage!==null&&typeof(window.localStorage)!=="undefined"}catch(ex){}ISQ.Tools.Storage.get=function(a,b){if(!ISQ.Tools.Storage.HTML5){return null}if(b){return window.sessionStorage.getItem(a)}else{return window.localStorage.getItem(a)}};ISQ.Tools.Storage.set=function(a,c,b){if(!ISQ.Tools.Storage.HTML5){return false}if(b){window.sessionStorage.setItem(a,c)}else{window.localStorage.setItem(a,c)}return true};ISQ.Tools.Storage.remove=function(a,b){if(!ISQ.Tools.Storage.HTML5){return}if(b){window.sessionStorage.removeItem(a)}else{window.localStorage.removeItem(a)}};ISQ.Tools.Storage.clear=function(a){if(!ISQ.Tools.Storage.HTML5){return}if(a){window.sessionStorage.clear()}else{window.localStorage.clear()}};

        (function(q,v,r){var d=v.userAgent.toLowerCase(),f=r.documentElement;q.DM_ENV={_add:function(g,h){if(!this[g]){this[g]=h}else{for(var b in h){this[g][b]=h[b]}}PubSub.publish("envs:added",g)}};var a={},x=function(){};x.prototype={subscribe:function(h,g,b){(a[h]=a[h]||[]).push([b||q,g]);return this},unsubscribe:function(k,h){for(var b=(a[k]||[]).length,g=b-1;g>=0;g--){if(!h||h===a[k][g][1]){a[k].splice(g,1)}}return this},publish:function(h){for(var g=0,b=(a[h]||[]).length;g<b;g++){a[h][g][1].apply(a[h][g][0],Array.prototype.slice.call(arguments,1))}return this}};q.PubSub=q.PubSub||new x();f.className+=("ontouchstart" in f)?"":" no-touch";var n=function(b){return d.indexOf(b)>-1},p="gecko",u="webkit",y="safari",e="opera",j="trident",l=f,i=n(j)&&/(rv)(?::| )([\w.]+)/.exec(d),t=[(!(/opera|webtv/i.test(d))&&/msie\s([\d]+)/.test(d))?("ie ie"+RegExp.$1):n("firefox/2")?p+" ff2":n("firefox/3.5")?p+" ff3 ff3_5":n("firefox/3")?p+" ff3":n("gecko/")?p:n("opera")?e+(/version\/(\d+)/.test(d)?" "+e+RegExp.$1:(/opera(\s|\/)(\d+)/.test(d)?" "+e+RegExp.$2:"")):n("konqueror")?"konqueror":n("chrome")?u+" chrome":n("iron")?u+" iron":n("applewebkit/")?u+" "+y+(/version\/(\d+)/.test(d)?" "+y+RegExp.$1:""):n("mozilla/")?p:"",n("j2me")?"mobile":n("iphone")?"iphone":n("ipod")?"ipod":n("mac")?"mac":n("darwin")?"mac":n("webtv")?"webtv":n("win")?"win":n("freebsd")?"freebsd":(n("x11")||n("linux"))?"linux":"","js"];c=t.join(" ");if(i){c+=" ie"+i[2].split(".")[0]}l.className+=" "+c;q.DM_Flash=(function(){var B="undefined",h="object",k="Shockwave Flash",b="ShockwaveFlash.ShockwaveFlash",s="application/x-shockwave-flash";var A=v.userAgent.toLowerCase(),g=v.platform.toLowerCase(),z=[0,0,0],o=null;if(typeof v.plugins!=B&&typeof v.plugins[k]==h){o=v.plugins[k].description;if(o&&!(typeof v.mimeTypes!=B&&v.mimeTypes[s]&&!v.mimeTypes[s].enabledPlugin)){o=o.replace(/^.*\s+(\S+\s+\S+$)/,"$1");z[0]=parseInt(o.replace(/^(.*)\..*$/,"$1"),10);z[1]=parseInt(o.replace(/^.*\.(.*)\s.*$/,"$1"),10);z[2]=/[a-zA-Z]/.test(o)?parseInt(o.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof window.ActiveXObject!=B){try{var w=new ActiveXObject(b);if(w){o=w.GetVariable("$version");if(o){o=o.split(" ")[1].split(",");z=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)]}}}catch(m){}}}return{VERSION:{major:z[0],minor:z[1],release:z[2]},__preModule:true}})()})(window,navigator,document);    
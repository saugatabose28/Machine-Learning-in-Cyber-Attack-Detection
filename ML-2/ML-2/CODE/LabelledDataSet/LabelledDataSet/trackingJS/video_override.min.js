window.env = "prod";
vsl_fdrv.off("vsl_report");
vsl_fdrv.on("vsl_report", function(e) {
    var t = this;
    if (Video.playerId == null)
        Video.playerId = t._id;
    vsl_reportEvent(e.placementId, e.eventName + "-" + (vsl_clipCounter + 1).toString(), vsl_getRuntime(), vsl_playlist[vsl_clipCounter].code);
    switch (e.eventName) {
    case"readyToNextClip":
        Ads.logger("readyToNextClip");
        Ads.voteBtnAction();
        if (Ads.adsFailedCounter >= window.maxAdsFailed) {
            Ads.adsFailedCounter = 0;
            Ads.toksCounter = 0;
            vsl_clipCounter = 0;
            Ads.showThumbnail();
            document.getElementById(Video.playerId).style.display = "none";
            Ads.loadTok(window.toksList[Ads.toksCounter]);
            return 
        } else {
            if (typeof window.moreToksPanel !== "undefined" && window.moreToksPanel) {
                Ads.reloadMoreToks()
            } else {
                Ads.loadNextTok()
            }
        }
        vsl_clipCounter++;
        if (vsl_clipCounter === vsl_playlist.length) {
            vsl_clipCounter = 0
        }
        t.loadClip("rtmp", "anyclip.fcod.llnwd.net/a8895/e4", vsl_playlist[vsl_clipCounter].filename, vsl_playlist[vsl_clipCounter].code, null, vsl_clipCounter + 1, null, null, null, null);
        break;
    case"lrLoaded":
        Ads.logger("lrLoaded");
        break;
    case"clipStarted":
        Ads.logger("clipStarted");
        Ads.voteBtnAction();
        Ads.playClick();
        break;
    case"clipEnded":
        Ads.logger("clipEnded");
        Video.overLayer(false);
        break;
    case"adPrerollStarted":
        Ads.adsFailedCounter--;
        Video.overLayer(false);
        Video.state = "AD_PREROLL_STARTED";
        Ads.logger("adPrerollStarted");
        break;
    case"adPrerollEnded":
        Ads.adsFailedCounter = 0;
        Video.state = "AD_PREROLL_ENDED";
        Ads.logger("adPrerollEnded");
        Ads.voteBtnAction();
        break;
    case"adPrerollFailed":
        Ads.adsFailedCounter++;
        Video.state = "AD_PREROLL_FAILED";
        Ads.logger("adPrerollFailed");
        Ads.voteBtnAction();
        break;
    case"adPostrollStarted":
        Ads.adsFailedCounter--;
        Video.overLayer(false);
        Video.state = "AD_POSTROLL_STARTED";
        org_vsl_adPostrollStarted(b, a);
        Ads.logger("adPostrollStarted");
        break;
    case"adPostrollEnded":
        Ads.adsFailedCounter = 0;
        Video.state = "AD_POSTROLL_ENDED";
        org_vsl_adPostrollEnded(b, a);
        Ads.logger("adPostrollEnded");
        Ads.voteBtnAction();
        break;
    case"adPostrollFailed":
        Ads.adsFailedCounter++;
        Video.state = "AD_POSTROLL_FAILED";
        org_vsl_adPostrollFailed(b, a);
        Ads.logger("adPostrollFailed");
        Ads.voteBtnAction();
        break;
    case"videoClick":
        Ads.videoClick()
    }
})
